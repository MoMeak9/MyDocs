<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Stylus 学习整合 | Yihui&#39;s docs</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <script language="javascript" type="text/JavaScript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script language="javascript" type="text/JavaScript" src="/js/MouseClickEffect.js"></script>
    <meta name="description" content="个人文档管理站点">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.4caa756d.css" as="style"><link rel="preload" href="/assets/js/app.862b4c32.js" as="script"><link rel="preload" href="/assets/js/3.9cc2b3a1.js" as="script"><link rel="preload" href="/assets/js/1.8c30e9e6.js" as="script"><link rel="preload" href="/assets/js/64.2aad2e3f.js" as="script"><link rel="prefetch" href="/assets/js/10.89bf3c25.js"><link rel="prefetch" href="/assets/js/100.7133c3a8.js"><link rel="prefetch" href="/assets/js/101.932098af.js"><link rel="prefetch" href="/assets/js/102.c704e352.js"><link rel="prefetch" href="/assets/js/103.b291d6db.js"><link rel="prefetch" href="/assets/js/104.f0885496.js"><link rel="prefetch" href="/assets/js/105.b472b4cf.js"><link rel="prefetch" href="/assets/js/106.5449e0d1.js"><link rel="prefetch" href="/assets/js/107.712cb568.js"><link rel="prefetch" href="/assets/js/108.6bbb646f.js"><link rel="prefetch" href="/assets/js/109.23e9a01a.js"><link rel="prefetch" href="/assets/js/11.2c9469b3.js"><link rel="prefetch" href="/assets/js/110.5377dfc7.js"><link rel="prefetch" href="/assets/js/111.203e1bf9.js"><link rel="prefetch" href="/assets/js/112.515caa39.js"><link rel="prefetch" href="/assets/js/113.2211fb61.js"><link rel="prefetch" href="/assets/js/114.b078b81a.js"><link rel="prefetch" href="/assets/js/115.dda65b61.js"><link rel="prefetch" href="/assets/js/116.18f9570c.js"><link rel="prefetch" href="/assets/js/117.4542ab00.js"><link rel="prefetch" href="/assets/js/118.a8770ae0.js"><link rel="prefetch" href="/assets/js/119.d5e17064.js"><link rel="prefetch" href="/assets/js/12.a58abcfb.js"><link rel="prefetch" href="/assets/js/120.ec5a3762.js"><link rel="prefetch" href="/assets/js/121.1cbf0d1a.js"><link rel="prefetch" href="/assets/js/122.80d54e33.js"><link rel="prefetch" href="/assets/js/123.793b4d4f.js"><link rel="prefetch" href="/assets/js/124.0b9a9ddf.js"><link rel="prefetch" href="/assets/js/125.ec19248f.js"><link rel="prefetch" href="/assets/js/126.ea0acb20.js"><link rel="prefetch" href="/assets/js/127.31295f9c.js"><link rel="prefetch" href="/assets/js/128.da7ace80.js"><link rel="prefetch" href="/assets/js/129.a233f6d3.js"><link rel="prefetch" href="/assets/js/13.fa825284.js"><link rel="prefetch" href="/assets/js/130.9cb3b41f.js"><link rel="prefetch" href="/assets/js/131.ff462882.js"><link rel="prefetch" href="/assets/js/132.86e32433.js"><link rel="prefetch" href="/assets/js/133.54f255af.js"><link rel="prefetch" href="/assets/js/134.ef93a475.js"><link rel="prefetch" href="/assets/js/135.0cbdb5bc.js"><link rel="prefetch" href="/assets/js/136.87d608fc.js"><link rel="prefetch" href="/assets/js/137.433d1ac4.js"><link rel="prefetch" href="/assets/js/138.d2e8d969.js"><link rel="prefetch" href="/assets/js/139.da348669.js"><link rel="prefetch" href="/assets/js/14.6ef12044.js"><link rel="prefetch" href="/assets/js/140.7efcb7cf.js"><link rel="prefetch" href="/assets/js/141.d3c21f17.js"><link rel="prefetch" href="/assets/js/142.e458f722.js"><link rel="prefetch" href="/assets/js/143.757b1062.js"><link rel="prefetch" href="/assets/js/144.b1e6765e.js"><link rel="prefetch" href="/assets/js/145.68ff0640.js"><link rel="prefetch" href="/assets/js/146.5ff49156.js"><link rel="prefetch" href="/assets/js/147.fd0e0707.js"><link rel="prefetch" href="/assets/js/148.5bd0032a.js"><link rel="prefetch" href="/assets/js/149.1a76c6aa.js"><link rel="prefetch" href="/assets/js/15.2272cff9.js"><link rel="prefetch" href="/assets/js/150.a4fc0fc4.js"><link rel="prefetch" href="/assets/js/151.955f72fc.js"><link rel="prefetch" href="/assets/js/152.85430891.js"><link rel="prefetch" href="/assets/js/153.624081d4.js"><link rel="prefetch" href="/assets/js/154.f67d47c5.js"><link rel="prefetch" href="/assets/js/155.754393a0.js"><link rel="prefetch" href="/assets/js/156.8f383304.js"><link rel="prefetch" href="/assets/js/157.af09cb0a.js"><link rel="prefetch" href="/assets/js/158.580049d3.js"><link rel="prefetch" href="/assets/js/159.d16a559a.js"><link rel="prefetch" href="/assets/js/16.1aa34173.js"><link rel="prefetch" href="/assets/js/160.d097207e.js"><link rel="prefetch" href="/assets/js/161.4558e711.js"><link rel="prefetch" href="/assets/js/162.595699fd.js"><link rel="prefetch" href="/assets/js/163.f4a3b7d0.js"><link rel="prefetch" href="/assets/js/164.bcabfd5b.js"><link rel="prefetch" href="/assets/js/165.e64f7329.js"><link rel="prefetch" href="/assets/js/166.14a65e28.js"><link rel="prefetch" href="/assets/js/167.98276fa6.js"><link rel="prefetch" href="/assets/js/168.6565520a.js"><link rel="prefetch" href="/assets/js/169.ff1cb633.js"><link rel="prefetch" href="/assets/js/17.05f4a788.js"><link rel="prefetch" href="/assets/js/170.11b56b2f.js"><link rel="prefetch" href="/assets/js/171.bafae7c9.js"><link rel="prefetch" href="/assets/js/18.c9d0a1d0.js"><link rel="prefetch" href="/assets/js/19.2b9b6042.js"><link rel="prefetch" href="/assets/js/20.06dd0149.js"><link rel="prefetch" href="/assets/js/21.e2fe4ea8.js"><link rel="prefetch" href="/assets/js/22.f8a4ee79.js"><link rel="prefetch" href="/assets/js/23.f19666dd.js"><link rel="prefetch" href="/assets/js/24.a6c97de3.js"><link rel="prefetch" href="/assets/js/25.eea82548.js"><link rel="prefetch" href="/assets/js/26.be6dc3ec.js"><link rel="prefetch" href="/assets/js/27.84cf2d4b.js"><link rel="prefetch" href="/assets/js/28.e762a6f9.js"><link rel="prefetch" href="/assets/js/29.7d4dfd03.js"><link rel="prefetch" href="/assets/js/30.566b3bbb.js"><link rel="prefetch" href="/assets/js/31.3ab87166.js"><link rel="prefetch" href="/assets/js/32.ff133fb1.js"><link rel="prefetch" href="/assets/js/33.78e5633c.js"><link rel="prefetch" href="/assets/js/34.7f49fcdc.js"><link rel="prefetch" href="/assets/js/35.3626c34f.js"><link rel="prefetch" href="/assets/js/36.19995ae2.js"><link rel="prefetch" href="/assets/js/37.2b94478b.js"><link rel="prefetch" href="/assets/js/38.3847345e.js"><link rel="prefetch" href="/assets/js/39.f3e8d2d0.js"><link rel="prefetch" href="/assets/js/4.a9e83867.js"><link rel="prefetch" href="/assets/js/40.82a78d99.js"><link rel="prefetch" href="/assets/js/41.3dafd3fe.js"><link rel="prefetch" href="/assets/js/42.5bedb0c9.js"><link rel="prefetch" href="/assets/js/43.a615e469.js"><link rel="prefetch" href="/assets/js/44.bcc6a268.js"><link rel="prefetch" href="/assets/js/45.f18225ca.js"><link rel="prefetch" href="/assets/js/46.250e5cc0.js"><link rel="prefetch" href="/assets/js/47.eaf57768.js"><link rel="prefetch" href="/assets/js/48.ba6cfb92.js"><link rel="prefetch" href="/assets/js/49.57b9c29e.js"><link rel="prefetch" href="/assets/js/5.8e4453e0.js"><link rel="prefetch" href="/assets/js/50.40246950.js"><link rel="prefetch" href="/assets/js/51.1a02dfb7.js"><link rel="prefetch" href="/assets/js/52.2eb4f3c8.js"><link rel="prefetch" href="/assets/js/53.2846ac65.js"><link rel="prefetch" href="/assets/js/54.78bbea29.js"><link rel="prefetch" href="/assets/js/55.850663af.js"><link rel="prefetch" href="/assets/js/56.fa4d919e.js"><link rel="prefetch" href="/assets/js/57.c7b452c8.js"><link rel="prefetch" href="/assets/js/58.28931fb3.js"><link rel="prefetch" href="/assets/js/59.ba2acaf6.js"><link rel="prefetch" href="/assets/js/6.b32243c4.js"><link rel="prefetch" href="/assets/js/60.27b531f5.js"><link rel="prefetch" href="/assets/js/61.6315a0f4.js"><link rel="prefetch" href="/assets/js/62.a596fd30.js"><link rel="prefetch" href="/assets/js/63.e016ce30.js"><link rel="prefetch" href="/assets/js/65.df31550d.js"><link rel="prefetch" href="/assets/js/66.ed006db8.js"><link rel="prefetch" href="/assets/js/67.7eff2ee5.js"><link rel="prefetch" href="/assets/js/68.15bb0456.js"><link rel="prefetch" href="/assets/js/69.b38a7e1a.js"><link rel="prefetch" href="/assets/js/7.b0ae972a.js"><link rel="prefetch" href="/assets/js/70.71ef19c6.js"><link rel="prefetch" href="/assets/js/71.2d8d5d0c.js"><link rel="prefetch" href="/assets/js/72.e2a809a4.js"><link rel="prefetch" href="/assets/js/73.b5c8670a.js"><link rel="prefetch" href="/assets/js/74.707ba4c2.js"><link rel="prefetch" href="/assets/js/75.2f0e00cf.js"><link rel="prefetch" href="/assets/js/76.19e67ef6.js"><link rel="prefetch" href="/assets/js/77.15e60094.js"><link rel="prefetch" href="/assets/js/78.d447cb84.js"><link rel="prefetch" href="/assets/js/79.2f8c4938.js"><link rel="prefetch" href="/assets/js/8.49100ceb.js"><link rel="prefetch" href="/assets/js/80.708f69aa.js"><link rel="prefetch" href="/assets/js/81.575f8ea1.js"><link rel="prefetch" href="/assets/js/82.4af889b0.js"><link rel="prefetch" href="/assets/js/83.c066688e.js"><link rel="prefetch" href="/assets/js/84.8091a558.js"><link rel="prefetch" href="/assets/js/85.72ceb3b6.js"><link rel="prefetch" href="/assets/js/86.dd2941f6.js"><link rel="prefetch" href="/assets/js/87.e3f0cf9c.js"><link rel="prefetch" href="/assets/js/88.11e4aad3.js"><link rel="prefetch" href="/assets/js/89.43c848f8.js"><link rel="prefetch" href="/assets/js/9.1f0c3c69.js"><link rel="prefetch" href="/assets/js/90.7b8ec81a.js"><link rel="prefetch" href="/assets/js/91.1da9382e.js"><link rel="prefetch" href="/assets/js/92.8314282f.js"><link rel="prefetch" href="/assets/js/93.7f024b5a.js"><link rel="prefetch" href="/assets/js/94.921593f6.js"><link rel="prefetch" href="/assets/js/95.e571cdb5.js"><link rel="prefetch" href="/assets/js/96.3731f8a1.js"><link rel="prefetch" href="/assets/js/97.f0b13686.js"><link rel="prefetch" href="/assets/js/98.5a683693.js"><link rel="prefetch" href="/assets/js/99.66be978a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4caa756d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-1aefc0b4><div data-v-1aefc0b4><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1aefc0b4 data-v-1aefc0b4><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>Yihui's docs</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>个人文档管理站点</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <span data-v-25ba6db2>2021 - </span>
          2022
        </a></span></div></div> <div class="hide" data-v-1aefc0b4><header class="navbar" data-v-1aefc0b4><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://doc.yihuiblog.top/logo.png" alt="Yihui's docs" class="logo"> <span class="site-name">Yihui's docs</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/408/" class="nav-link"><i class="undefined"></i>
  408
</a></li><li class="dropdown-item"><!----> <a href="/categories/fontEnd/" class="nav-link"><i class="undefined"></i>
  fontEnd
</a></li><li class="dropdown-item"><!----> <a href="/categories/blog/" class="nav-link"><i class="undefined"></i>
  blog
</a></li><li class="dropdown-item"><!----> <a href="/categories/wiki/" class="nav-link"><i class="undefined"></i>
  wiki
</a></li><li class="dropdown-item"><!----> <a href="/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/categories/backend/" class="nav-link"><i class="undefined"></i>
  backend
</a></li><li class="dropdown-item"><!----> <a href="/categories/git/" class="nav-link"><i class="undefined"></i>
  git
</a></li><li class="dropdown-item"><!----> <a href="/categories/intern/" class="nav-link"><i class="undefined"></i>
  intern
</a></li><li class="dropdown-item"><!----> <a href="/categories/大学课程/" class="nav-link"><i class="undefined"></i>
  大学课程
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="https://github.com/MoMeak9" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/wiki/interview/" class="nav-link"><i class="undefined"></i>
  面试题汇总
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1aefc0b4></div> <aside class="sidebar" data-v-1aefc0b4><div class="personal-info-wrapper" data-v-39576ba9 data-v-1aefc0b4><img src="/logo.png" alt="author-avatar" class="personal-img" data-v-39576ba9> <!----> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>128</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>17</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9><li class="social-item" data-v-39576ba9><i class="iconfont reco-github" style="color:#fb9b5f;" data-v-39576ba9></i></li><li class="social-item" data-v-39576ba9><i class="iconfont reco-npm" style="color:#f47e60;" data-v-39576ba9></i></li></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/408/" class="nav-link"><i class="undefined"></i>
  408
</a></li><li class="dropdown-item"><!----> <a href="/categories/fontEnd/" class="nav-link"><i class="undefined"></i>
  fontEnd
</a></li><li class="dropdown-item"><!----> <a href="/categories/blog/" class="nav-link"><i class="undefined"></i>
  blog
</a></li><li class="dropdown-item"><!----> <a href="/categories/wiki/" class="nav-link"><i class="undefined"></i>
  wiki
</a></li><li class="dropdown-item"><!----> <a href="/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/categories/backend/" class="nav-link"><i class="undefined"></i>
  backend
</a></li><li class="dropdown-item"><!----> <a href="/categories/git/" class="nav-link"><i class="undefined"></i>
  git
</a></li><li class="dropdown-item"><!----> <a href="/categories/intern/" class="nav-link"><i class="undefined"></i>
  intern
</a></li><li class="dropdown-item"><!----> <a href="/categories/大学课程/" class="nav-link"><i class="undefined"></i>
  大学课程
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="https://github.com/MoMeak9" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/wiki/interview/" class="nav-link"><i class="undefined"></i>
  面试题汇总
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2></h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <span data-v-25ba6db2>2021 - </span>
          2022
        </a></span></div></div> <div data-v-1aefc0b4><main class="page"><section><div class="page-title"><h1 class="title">Stylus 学习整合</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>MoMeaks</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>3/10/2022</span></i> <!----> <i class="tags iconfont reco-tag" data-v-f875f3fc><span class="tag-item" data-v-f875f3fc>CSS</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="stylus-学习整合"><a href="#stylus-学习整合" class="header-anchor">#</a> Stylus 学习整合</h1> <blockquote><p>stylus 代码很简介，但是工作过程当中更多的接触的是scss和less，stylus很少人可以驾驭，而且语法更加的简洁和不同</p></blockquote> <h2 id="特征"><a href="#特征" class="header-anchor">#</a> 特征</h2> <p>冒号可选、分号可选逗号可选、括号可选、变量、插值、混合书写、算术、强制类型转换、动态导入、条件、迭代、嵌套选择、父级参考、变量函数调用、词法作用域、内置函数、内部语言函数、压缩可选、图像内联可选、可执行 <code>Stylus</code>、健壮的错误报告、单行和多行注释、<code>CSS</code> 字面量、字符转义、<code>TextMate</code> 捆绑等。</p> <h2 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h2> <h4 id="全局安装"><a href="#全局安装" class="header-anchor">#</a> 全局安装</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> stylus -g

</code></pre></div><h4 id="编译单个文件"><a href="#编译单个文件" class="header-anchor">#</a> 编译单个文件</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>stylus demo.styl

</code></pre></div><h4 id="编译整个文件夹"><a href="#编译整个文件夹" class="header-anchor">#</a> 编译整个文件夹</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>当前文件夹下 stylus

</code></pre></div><h4 id="动态监听整个文件夹"><a href="#动态监听整个文件夹" class="header-anchor">#</a> 动态监听整个文件夹</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>stylus -w

</code></pre></div><h4 id="动态监听整个文件夹并压缩"><a href="#动态监听整个文件夹并压缩" class="header-anchor">#</a> 动态监听整个文件夹并压缩</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>stylus -w --compress

</code></pre></div><h2 id="基本语法"><a href="#基本语法" class="header-anchor">#</a> 基本语法</h2> <h3 id="选择器"><a href="#选择器" class="header-anchor">#</a> 选择器</h3> <h4 id="缩排"><a href="#缩排" class="header-anchor">#</a> 缩排</h4> <p><code>Stylus</code> 语法是基于缩进，空格有重要的意义，使用缩排和凹排代替花括号 <code>{</code> 及 <code>}</code>。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body</span>
  <span class="token property-declaration"><span class="token property">color</span> <span class="token color">white</span></span>

</code></pre></div><p>上面代码对应于：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#fff</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><p>可以加上冒号，用做分隔，便于阅读：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body</span>
  <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">white</span></span>

</code></pre></div><h4 id="规则集"><a href="#规则集" class="header-anchor">#</a> 规则集</h4> <p><code>Stylus</code> 就跟 <code>CSS</code> 一样，允许使用逗号为多个选择器同时定义属性。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">textarea<span class="token punctuation">,</span> input</span>
  <span class="token property-declaration"><span class="token property">border</span> <span class="token number">1</span><span class="token unit">px</span> solid <span class="token hexcode">#eee</span></span>

</code></pre></div><p>使用新行是一样的效果：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">textarea
input</span>
  <span class="token property-declaration"><span class="token property">border</span> <span class="token number">1</span><span class="token unit">px</span> solid <span class="token hexcode">#eee</span></span>

</code></pre></div><p>等同于：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">textarea<span class="token punctuation">,</span>
input <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span> solid <span class="token hexcode">#eee</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><p>该规则唯一的例外就是长得像属性的选择器。例如，下面的 <code>foo bar baz</code> 可能是个属性或者是选择器。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token property-declaration"><span class="token property">foo</span> bar baz</span>
<span class="token selector">&gt; input</span>
  <span class="token property-declaration"><span class="token property">border</span> <span class="token number">1</span><span class="token unit">px</span> solid</span>

</code></pre></div><p>为解决这个问题，可以在尾部加个逗号：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">foo bar baz<span class="token punctuation">,</span>
form input<span class="token punctuation">,</span>
&gt; a</span>
  <span class="token property-declaration"><span class="token property">border</span> <span class="token number">1</span><span class="token unit">px</span> solid</span>

</code></pre></div><h4 id="父级引用"><a href="#父级引用" class="header-anchor">#</a> 父级引用</h4> <p>字符 <code>&amp;</code> 指向父选择器。下面这个例子，两个选择器( <code>textarea</code> 和 <code>input</code> )在 <code>:hover</code> 伪类选择器上都改变了 <code>color</code> 值</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">textarea
input</span>
  <span class="token property-declaration"><span class="token property">color</span> <span class="token hexcode">#A7A7A7</span></span>
  <span class="token selector">&amp;:hover</span>
    <span class="token property-declaration"><span class="token property">color</span> <span class="token hexcode">#000</span></span>

</code></pre></div><p>等同于：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">textarea<span class="token punctuation">,</span>
input <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#a7a7a7</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
<span class="token selector">textarea:hover<span class="token punctuation">,</span>
input:hover <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#000</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><p>下面这个例子，<code>IE浏览器</code> 利用了父级引用以及混合书写来实现 <code>2px</code> 的边框。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code>  <span class="token func"><span class="token function">box-shadow</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
    <span class="token property-declaration"><span class="token property">-webkit-box-shadow</span> arguments</span>
    <span class="token property-declaration"><span class="token property">-moz-box-shadow</span> arguments</span>
    <span class="token property-declaration"><span class="token property">box-shadow</span> arguments</span>
    <span class="token selector">html.ie8 &amp;<span class="token punctuation">,</span>
    html.ie7 &amp;<span class="token punctuation">,</span>
    html.ie6 &amp;</span>
      <span class="token property-declaration"><span class="token property">border</span> <span class="token number">2</span><span class="token unit">px</span> solid arguments<span class="token punctuation">[</span><span class="token func"><span class="token function">length</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span></span></span>

  <span class="token selector">body</span>
    <span class="token selector">#login</span>
      <span class="token property-declaration"><span class="token property">box-shadow</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">3</span><span class="token unit">px</span> <span class="token hexcode">#eee</span></span>

</code></pre></div><p>结果：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code>  <span class="token selector">body #login <span class="token punctuation">{</span></span>
    <span class="token property-declaration"><span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">3</span><span class="token unit">px</span> <span class="token hexcode">#eee</span><span class="token punctuation">;</span></span>
    <span class="token property-declaration"><span class="token property">-moz-box-shadow</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">3</span><span class="token unit">px</span> <span class="token hexcode">#eee</span><span class="token punctuation">;</span></span>
    <span class="token property-declaration"><span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">3</span><span class="token unit">px</span> <span class="token hexcode">#eee</span><span class="token punctuation">;</span></span>
  <span class="token punctuation">}</span>
  <span class="token selector">html.ie8 body #login<span class="token punctuation">,</span>
  html.ie7 body #login<span class="token punctuation">,</span>
  html.ie6 body #login <span class="token punctuation">{</span></span>
    <span class="token property-declaration"><span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token unit">px</span> solid <span class="token hexcode">#eee</span><span class="token punctuation">;</span></span>
  <span class="token punctuation">}</span>

</code></pre></div><h4 id="消除歧义"><a href="#消除歧义" class="header-anchor">#</a> 消除歧义</h4> <p>类似 <code>padding - n</code> 的表达式可能既被解释成 <code>减法运算</code>，也可能被释义成 <code>一元负号属性</code>。为了避免这种歧义，用括号包裹表达式：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">pad</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">padding</span> <span class="token punctuation">(</span><span class="token operator">-</span> n<span class="token punctuation">)</span></span>

<span class="token selector">body</span>
  <span class="token func"><span class="token function">pad</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">)</span></span>

</code></pre></div><p>结果：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">-5</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><p>然而，只有在函数中才会这样（因为函数同时用返回值扮演混合或回调）。 例如，下面这个就是OK的：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body</span>
  <span class="token property-declaration"><span class="token property">padding</span> <span class="token number">-5</span><span class="token unit">px</span></span>

</code></pre></div><p><code>unquote()</code> 可以处理有 <code>Stylus</code> 无法处理的属性值：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token property-declaration"><span class="token property">filter</span> unquote<span class="token punctuation">(</span><span class="token string">'progid:DXImageTransform.Microsoft.BasicImage(rotation=1)'</span><span class="token punctuation">)</span></span>

</code></pre></div><p>结果：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token property-declaration"><span class="token property">filter</span> progid<span class="token punctuation">:</span>DXImageTransform.Microsoft.<span class="token func"><span class="token function">BasicImage</span><span class="token punctuation">(</span>rotation<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span></span></span>

</code></pre></div><h3 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h3> <h4 id="变量-2"><a href="#变量-2" class="header-anchor">#</a> 变量</h4> <p>我们可以指定表达式为变量，然后在样式中贯穿使用：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">font-size</span> <span class="token operator">=</span> <span class="token number">14</span><span class="token unit">px</span></span>

<span class="token selector">body</span>
  <span class="token property-declaration"><span class="token property">font</span> font-size Arial<span class="token punctuation">,</span> sans-seri</span>

</code></pre></div><p>结果：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">font</span><span class="token punctuation">:</span> <span class="token number">14</span><span class="token unit">px</span> Arial<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><p>变量甚至可以组成一个表达式列表：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">font-size</span> <span class="token operator">=</span> <span class="token number">14</span><span class="token unit">px</span></span>
<span class="token variable-declaration"><span class="token variable">font</span> <span class="token operator">=</span> font-size <span class="token string">&quot;Lucida Grande&quot;</span><span class="token punctuation">,</span> Arial</span>

<span class="token selector">body</span>
  <span class="token property-declaration"><span class="token property">font</span> font sans-serif</span>

</code></pre></div><p>结果：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">font</span><span class="token punctuation">:</span> <span class="token number">14</span><span class="token unit">px</span> <span class="token string">&quot;Lucida Grande&quot;</span><span class="token punctuation">,</span> Arial sans-serif<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><p>标识符（变量名，函数等），也可能包括$字符。例如：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">$font-size</span> <span class="token operator">=</span> <span class="token number">14</span><span class="token unit">px</span></span>
<span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">font</span><span class="token punctuation">:</span> $font-size sans-serif<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="属性查找"><a href="#属性查找" class="header-anchor">#</a> 属性查找</h4> <p><code>Stylus</code> 有另外一个很酷的独特功能，不需要分配值给变量就可以定义引用属性。下面是个很好的例子，元素水平垂直居中对齐（典型的方法是使用百分比和 <code>margin</code> 负值），如下：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">#logo</span>
  <span class="token property-declaration"><span class="token property">position</span><span class="token punctuation">:</span> absolute</span>
  <span class="token property-declaration"><span class="token property">top</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token unit">%</span></span>
  <span class="token property-declaration"><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token unit">%</span></span>
  <span class="token property-declaration"><span class="token property">width</span><span class="token punctuation">:</span> w <span class="token operator">=</span> <span class="token number">150</span><span class="token unit">px</span></span>
  <span class="token property-declaration"><span class="token property">height</span><span class="token punctuation">:</span> h <span class="token operator">=</span> <span class="token number">80</span><span class="token unit">px</span></span>
  <span class="token property-declaration"><span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">-</span><span class="token punctuation">(</span>w <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span></span></span>
  <span class="token property-declaration"><span class="token property">margin-top</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">-</span><span class="token punctuation">(</span>h <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span></span></span>

</code></pre></div><p>我们不使用这里的变量 <code>w</code> 和 <code>h</code>, 而是简单地前置 <code>@</code> 字符在属性名前来访问该属性名对应的值：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">#logo</span>
  <span class="token property-declaration"><span class="token property">position</span><span class="token punctuation">:</span> absolute</span>
  <span class="token property-declaration"><span class="token property">top</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token unit">%</span></span>
  <span class="token property-declaration"><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token unit">%</span></span>
  <span class="token property-declaration"><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">150</span><span class="token unit">px</span></span>
  <span class="token property-declaration"><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token unit">px</span></span>
  <span class="token property-declaration"><span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">-</span><span class="token punctuation">(</span>@width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span></span></span>
  <span class="token property-declaration"><span class="token property">margin-top</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">-</span><span class="token punctuation">(</span>@height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span></span></span>

</code></pre></div><p>另外使用案例是基于其他属性有条件地定义属性。在下面这个例子中，我们默认指定 <code>z-index</code> 值为 <code>1</code>，但是，只有在 <code>z-index</code> 之前未指定的时候才这样：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">position</span><span class="token punctuation">:</span> arguments</span>
  <span class="token property-declaration"><span class="token property">z-index</span><span class="token punctuation">:</span> <span class="token number">1</span> <span class="token keyword">unless</span> <span class="token keyword">@z-index</span></span>

<span class="token selector">#logo</span>
  <span class="token property-declaration"><span class="token property">z-index</span><span class="token punctuation">:</span> <span class="token number">20</span></span>
  <span class="token property-declaration"><span class="token property">position</span><span class="token punctuation">:</span> absolute</span>

<span class="token selector">#logo2</span>
  <span class="token property-declaration"><span class="token property">position</span><span class="token punctuation">:</span> absolute</span>

</code></pre></div><p>属性会 <code>向上冒泡</code> 查找堆栈直到被发现，或者返回 <code>null</code>（如果属性搞不定）。下面这个例子，<code>@color</code> 值为 <code>blue</code>.</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body</span>
  <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">red</span></span>
  <span class="token selector">ul</span>
    <span class="token selector">li</span>
      <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">blue</span></span>
      <span class="token selector">a</span>
        <span class="token property-declaration"><span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token keyword">@color</span></span>

</code></pre></div><h3 id="插值"><a href="#插值" class="header-anchor">#</a> 插值</h3> <h4 id="插值-2"><a href="#插值-2" class="header-anchor">#</a> 插值</h4> <p><code>Stylus</code> 支持通过使用 <code>{}</code> 字符包围表达式来插入值，其会变成标识符的一部分。例如，<code>-webkit-{'border' + '-radius'}</code> 等同于 <code>-webkit-border-radius</code>。比较好的例子就是私有前缀属性扩展：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">vendor</span><span class="token punctuation">(</span>prop<span class="token punctuation">,</span> args<span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">-webkit-<span class="token interpolation variable"><span class="token delimiter punctuation">{</span>prop<span class="token delimiter punctuation">}</span></span></span> args</span>
  <span class="token property-declaration"><span class="token property">-moz-<span class="token interpolation variable"><span class="token delimiter punctuation">{</span>prop<span class="token delimiter punctuation">}</span></span></span> args</span>
  <span class="token property-declaration"><span class="token property"><span class="token interpolation variable"><span class="token delimiter punctuation">{</span>prop<span class="token delimiter punctuation">}</span></span></span> args</span>

<span class="token func"><span class="token function">border-radius</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token func"><span class="token function">vendor</span><span class="token punctuation">(</span><span class="token string">'border-radius'</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span></span>

<span class="token func"><span class="token function">box-shadow</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token func"><span class="token function">vendor</span><span class="token punctuation">(</span><span class="token string">'box-shadow'</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span></span>

<span class="token selector">button</span>
  <span class="token property-declaration"><span class="token property">border-radius</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token unit">px</span> <span class="token number">4</span><span class="token unit">px</span></span>

</code></pre></div><p>结果：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">button <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">-webkit-border-radius</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token unit">px</span> <span class="token number">4</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">-moz-border-radius</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token unit">px</span> <span class="token number">4</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token unit">px</span> <span class="token number">4</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="选择器插值"><a href="#选择器插值" class="header-anchor">#</a> 选择器插值</h4> <p>插值也可以在选择器上起作用。例如，我们可以指定表格前 <code>5</code> 行的高度，如下：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">table</span>
  <span class="token statement"><span class="token keyword">for</span> row <span class="token operator">in</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span></span>
    <span class="token selector">tr:nth-child(<span class="token interpolation variable"><span class="token delimiter punctuation">{</span>row<span class="token delimiter punctuation">}</span></span>)</span>
      <span class="token property-declaration"><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token unit">px</span> <span class="token operator">*</span> row</span>

</code></pre></div><p>结果：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">table tr:nth-child(1) <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
<span class="token selector">table tr:nth-child(2) <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
<span class="token selector">table tr:nth-child(3) <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
<span class="token selector">table tr:nth-child(4) <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">40</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
<span class="token selector">table tr:nth-child(5) <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="运算符"><a href="#运算符" class="header-anchor">#</a> 运算符</h3> <h4 id="运算符优先级"><a href="#运算符优先级" class="header-anchor">#</a> 运算符优先级</h4> <p>下表运算符优先级，从最高到最低：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token punctuation">[</span><span class="token punctuation">]</span>
! ~ + -
<span class="token property-declaration"><span class="token property">is</span> defined</span>
** * / %
+ -
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">.</span><span class="token punctuation">.</span>
&lt;= &gt;= &lt; &gt;
<span class="token variable-declaration"><span class="token variable">in</span>
<span class="token operator">==</span> <span class="token operator">is</span> <span class="token operator">!=</span> <span class="token operator">is not</span> <span class="token operator">isnt</span></span>
<span class="token property-declaration"><span class="token property">is</span> a</span>
&amp;&amp; and || or
?<span class="token punctuation">:</span>
= <span class="token punctuation">:</span>= ?= += -= *= /= %=
not
<span class="token statement"><span class="token keyword">if</span> <span class="token keyword">unless</span></span>

</code></pre></div><h4 id="一元运算符"><a href="#一元运算符" class="header-anchor">#</a> 一元运算符</h4> <p>以下一元运算符可用，<code>!</code>, <code>not</code>, <code>-</code>, <code>+</code>, 以及 <code>~</code>.</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code>!0              <span class="token comment">// =&gt; true</span>
!!0             <span class="token comment">// =&gt; false</span>
!1              <span class="token comment">// =&gt; false</span>
!!5px           <span class="token comment">// =&gt; true</span>
<span class="token property-declaration"><span class="token property">-5px</span>            <span class="token comment">// =&gt; -5px</span></span>
<span class="token property-declaration"><span class="token property">--5px</span>           <span class="token comment">// =&gt; 5px</span></span>
<span class="token property-declaration"><span class="token property">not</span> <span class="token boolean">true</span>        <span class="token comment">// =&gt; false</span></span>
<span class="token property-declaration"><span class="token property">not</span> <span class="token operator">not</span> <span class="token boolean">true</span>    <span class="token comment">// =&gt; true</span></span>

</code></pre></div><p>逻辑运算符 <code>not</code> 的优先级较低，因此，下面这个例子可以替换：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">a</span> <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="token variable-declaration"><span class="token variable">b</span> <span class="token operator">=</span> <span class="token number">1</span></span>
!a and !b       <span class="token comment">// =&gt; false，解析为: (!a) and (!b)</span>

</code></pre></div><p>用：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token property-declaration"><span class="token property">not</span> a <span class="token operator">or</span> b      <span class="token comment">// =&gt; false，解析为: not (a or b)</span></span>

</code></pre></div><h4 id="二元运算符"><a href="#二元运算符" class="header-anchor">#</a> 二元运算符</h4> <p><code>下标运算符[]</code> 允许我们通过索引获取表达式内部值。<code>括号表达式</code> 可以充当元组（如<code>(15px 5px), (1, 2, 3)</code> ）。</p> <p>下面这个例子使用错误处理的元组（并展示了该结构的多功能性）：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span></span>
  <span class="token statement"><span class="token keyword">if</span> a <span class="token operator">is a</span> <span class="token string">'unit'</span> <span class="token operator">and</span> b <span class="token operator">is a</span> <span class="token string">'unit'</span></span>
    <span class="token property-declaration"><span class="token property">a</span> <span class="token operator">+</span> b</span>
  <span class="token selector">else</span>
    <span class="token punctuation">(</span>error <span class="token string">'a 和 b 必须是 units!'</span><span class="token punctuation">)</span>

<span class="token selector">body</span>
  <span class="token property-declaration"><span class="token property">padding</span> add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'5'</span><span class="token punctuation">)</span>              <span class="token comment">// =&gt; padding: error &quot;a 和 b 必须是 units&quot;;</span></span>
  <span class="token property-declaration"><span class="token property">padding</span> add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'5'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>           <span class="token comment">// =&gt; padding: error;</span></span>
  <span class="token property-declaration"><span class="token property">padding</span> add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'5'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> error  <span class="token comment">// =&gt; padding: true;</span></span>
  <span class="token property-declaration"><span class="token property">padding</span> add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'5'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>           <span class="token comment">// =&gt; padding: &quot;a 和 b 必须是 units&quot;;</span></span>

</code></pre></div><p>这儿有个更复杂的例子。现在，我们调用内置的 <code>error()</code> 函数，当标识符（第一个值）等于 <code>error</code> 的时候返回错误信息。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token statement"><span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">=</span> add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'5'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> error</span>
  <span class="token func"><span class="token function">error</span><span class="token punctuation">(</span>val<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>

</code></pre></div><h4 id="范围"><a href="#范围" class="header-anchor">#</a> 范围 <code>..</code> <code>...</code></h4> <p>同时提供包含界线操作符(<code>..</code>)和范围操作符(<code>...</code>)，见下表达式：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code>1<span class="token punctuation">.</span><span class="token punctuation">.</span>5                              <span class="token comment">// =&gt; 1 2 3 4 5</span>
1<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>5                             <span class="token comment">// =&gt; 1 2 3 4</span>

</code></pre></div><h4 id="加减"><a href="#加减" class="header-anchor">#</a> 加减：<code>+</code> <code>-</code></h4> <p>二元加乘运算其单位会转化，或使用默认字面量值。例如，<code>5s - 2px</code> 结果是 <code>3s</code>.</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token property-declaration"><span class="token property">15px</span> <span class="token operator">-</span> <span class="token number">5</span><span class="token unit">px</span>                        <span class="token comment">// =&gt; 10px</span></span>
<span class="token property-declaration"><span class="token property">5</span> <span class="token operator">-</span> <span class="token number">2</span>                             <span class="token comment">// =&gt; 3</span></span>
<span class="token property-declaration"><span class="token property">5in</span> <span class="token operator">-</span> <span class="token number">50</span><span class="token unit">mm</span>                        <span class="token comment">// =&gt; 3.031in</span></span>
<span class="token property-declaration"><span class="token property">5s</span> <span class="token operator">-</span> <span class="token number">1000</span><span class="token unit">ms</span>                       <span class="token comment">// =&gt; 4s</span></span>
<span class="token property-declaration"><span class="token property">20mm</span> <span class="token operator">+</span> <span class="token number">4</span><span class="token unit">in</span>                        <span class="token comment">// =&gt; 121.6mm</span></span>
<span class="token string">&quot;foo &quot;</span> + <span class="token string">&quot;bar&quot;</span>                    <span class="token comment">// =&gt; &quot;foo bar&quot;</span>
<span class="token string">&quot;num &quot;</span> + 15                       <span class="token comment">// =&gt; &quot;num 15&quot;</span>

</code></pre></div><h4 id="乘除"><a href="#乘除" class="header-anchor">#</a> 乘除：<code>/</code> <code>*</code> <code>%</code></h4> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token property-declaration"><span class="token property">2000ms</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token unit">s</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>                 <span class="token comment">// =&gt; 4000ms</span></span>
<span class="token property-declaration"><span class="token property">5s</span> <span class="token operator">/</span> <span class="token number">2</span>                            <span class="token comment">// =&gt; 2.5s</span></span>
<span class="token property-declaration"><span class="token property">4</span> <span class="token operator">%</span> <span class="token number">2</span>                             <span class="token comment">// =&gt; 0</span></span>

</code></pre></div><p>当在属性值内使用 <code>/</code> 时候，你必须用括号包住。否则 <code>/</code> 会根据其字面意思处理（支持 <code>CSS</code> 的 <code>line-height</code>）。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token property-declaration"><span class="token property">font</span><span class="token punctuation">:</span> <span class="token number">14</span><span class="token unit">px</span><span class="token operator">/</span><span class="token number">1.5</span><span class="token punctuation">;</span>                   <span class="token comment">// 但是，下面这个却等同于14px ÷ 1.5:</span></span>
<span class="token property-declaration"><span class="token property">font</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">14</span><span class="token unit">px</span><span class="token operator">/</span><span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// 只有/操作符的时候需要这样。</span></span>

</code></pre></div><h4 id="指数"><a href="#指数" class="header-anchor">#</a> 指数：**</h4> <p>指数操作符：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token property-declaration"><span class="token property">2</span> <span class="token operator">**</span> <span class="token number">8</span>                            <span class="token comment">// =&gt; 256</span></span>

</code></pre></div><h4 id="相等与关系运算"><a href="#相等与关系运算" class="header-anchor">#</a> 相等与关系运算：<code>==</code> <code>!=</code> <code>&gt;=</code> <code>&lt;=</code> <code>&gt;</code> <code>&lt;</code></h4> <p>相等运算符可以被用来等同单位、颜色、字符串甚至标识符。这是个强大的概念，甚至任意的标识符（例如 <code>wahoo</code> ）可以作为原子般使用。函数可以返回 <code>yes</code> 和 <code>no</code> 代替 <code>true</code> 和 <code>false</code>（虽然不建议）。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">5</span> <span class="token operator">==</span> <span class="token number">5</span>                            <span class="token comment">// =&gt; true</span></span>
<span class="token property-declaration"><span class="token property">10</span> <span class="token operator">&gt;</span> <span class="token number">5</span>                            <span class="token comment">// =&gt; true</span></span>
#fff == #fff                      <span class="token comment">// =&gt; true</span>
<span class="token variable-declaration"><span class="token variable">true</span> <span class="token operator">==</span> <span class="token boolean">false</span>                     <span class="token comment">// =&gt; false</span></span>
<span class="token variable-declaration"><span class="token variable">wahoo</span> <span class="token operator">==</span> yay                      <span class="token comment">// =&gt; false</span></span>
<span class="token variable-declaration"><span class="token variable">wahoo</span> <span class="token operator">==</span> wahoo                    <span class="token comment">// =&gt; true</span></span>
<span class="token string">&quot;test&quot;</span> == <span class="token string">&quot;test&quot;</span>                  <span class="token comment">// =&gt; true</span>
<span class="token property-declaration"><span class="token property">true</span> <span class="token operator">is</span> <span class="token boolean">true</span>                      <span class="token comment">// =&gt; true</span></span>
<span class="token string">'hey'</span> is not <span class="token string">'bye'</span>                <span class="token comment">// =&gt; true</span>
<span class="token string">'hey'</span> isnt <span class="token string">'bye'</span>                  <span class="token comment">// =&gt; true</span>
<span class="token punctuation">(</span>foo bar<span class="token punctuation">)</span> == <span class="token punctuation">(</span>foo bar<span class="token punctuation">)</span>            <span class="token comment">// =&gt; true</span>
<span class="token punctuation">(</span>1 2 3<span class="token punctuation">)</span> == <span class="token punctuation">(</span>1 2 3<span class="token punctuation">)</span>                <span class="token comment">// =&gt; true</span>
<span class="token punctuation">(</span>1 2 3<span class="token punctuation">)</span> == <span class="token punctuation">(</span>1 1 3<span class="token punctuation">)</span>                <span class="token comment">// =&gt; false</span>

</code></pre></div><p>只有精确值才匹配，例如，<code>0 == false</code> 和 <code>null == false</code> 均返回 <code>false</code>.</p> <p>别名：</p> <ul><li><code>==</code>: is</li> <li><code>!=</code>: is not</li> <li><code>!=</code>: isnt</li></ul> <h4 id="真与假"><a href="#真与假" class="header-anchor">#</a> 真与假</h4> <p><code>Stylus</code> 近乎一切都是 <code>true</code>, 包括有后缀的单位，甚至 <code>0%</code>, <code>0px</code> 等都被认作 <code>true</code>. 不过，<code>0</code> 在算术上本身是 <code>false</code>，表达式（或“列表”）长度大于 <code>1</code> 被认为是真。</p> <p><code>true</code> 例子：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code>0%
0px
1px
-1
-1px
hey
<span class="token string">'hey'</span>
<span class="token punctuation">(</span>0 0 0<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">''</span> <span class="token string">''</span><span class="token punctuation">)</span>

</code></pre></div><p><code>false</code> 例子：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code>0
null
false

</code></pre></div><h4 id="逻辑操作符-和-or"><a href="#逻辑操作符-和-or" class="header-anchor">#</a> 逻辑操作符：<code>&amp;&amp;</code> <code>||</code> 和 <code>or</code></h4> <p>逻辑操作符 <code>&amp;&amp;</code> 和 <code>||</code> 别名是 <code>and</code> / <code>or</code>。它们优先级相同。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token property-declaration"><span class="token property">5</span> <span class="token operator">&amp;&amp;</span> <span class="token number">3</span>                                <span class="token comment">// =&gt; 3</span></span>
<span class="token property-declaration"><span class="token property">0</span> <span class="token operator">||</span> <span class="token number">5</span>                                <span class="token comment">// =&gt; 5</span></span>
<span class="token property-declaration"><span class="token property">0</span> <span class="token operator">&amp;&amp;</span> <span class="token number">5</span>                                <span class="token comment">// =&gt; 0</span></span>
#fff is a <span class="token string">'rgba'</span> and 15 is a <span class="token string">'unit'</span>   <span class="token comment">// =&gt; true</span>

</code></pre></div><h4 id="存在操作符-in"><a href="#存在操作符-in" class="header-anchor">#</a> 存在操作符：<code>in</code></h4> <p>检查左边内容是否在右边的表达式中。 简单的例子：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">nums</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span></span>
<span class="token property-declaration"><span class="token property">1</span> <span class="token operator">in</span> nums                             <span class="token comment">// =&gt; true</span></span>
<span class="token property-declaration"><span class="token property">5</span> <span class="token operator">in</span> nums                             <span class="token comment">// =&gt; false</span></span>

</code></pre></div><p>一些未定义标识符：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">words</span> <span class="token operator">=</span> foo bar baz</span>
<span class="token property-declaration"><span class="token property">bar</span> <span class="token operator">in</span> words                          <span class="token comment">// =&gt; true</span></span>
<span class="token property-declaration"><span class="token property">HEY</span> <span class="token operator">in</span> words                          <span class="token comment">// =&gt; false</span></span>

</code></pre></div><p>元组同样适用：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">vals</span> <span class="token operator">=</span> <span class="token punctuation">(</span>error <span class="token string">'one'</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>error <span class="token string">'two'</span><span class="token punctuation">)</span></span>
<span class="token property-declaration"><span class="token property">error</span> <span class="token operator">in</span> vals                         <span class="token comment">// =&gt; false</span></span>
<span class="token punctuation">(</span>error <span class="token string">'one'</span><span class="token punctuation">)</span> in vals                 <span class="token comment">// =&gt; true</span>
<span class="token punctuation">(</span>error <span class="token string">'two'</span><span class="token punctuation">)</span> in vals                 <span class="token comment">// =&gt; true</span>
<span class="token punctuation">(</span>error <span class="token string">'something'</span><span class="token punctuation">)</span> in vals           <span class="token comment">// =&gt; false</span>

</code></pre></div><p>混合书写适用例子：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">pad</span><span class="token punctuation">(</span>types <span class="token operator">=</span> padding<span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">)</span></span>
  <span class="token statement"><span class="token keyword">if</span> padding <span class="token operator">in</span> types</span>
    <span class="token property-declaration"><span class="token property">padding</span> n</span>
  <span class="token statement"><span class="token keyword">if</span> margin <span class="token operator">in</span> types</span>
    <span class="token property-declaration"><span class="token property">margin</span> n</span>

<span class="token selector">body</span>
  <span class="token func"><span class="token function">pad</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="token selector">body</span>
  <span class="token func"><span class="token function">pad</span><span class="token punctuation">(</span>margin<span class="token punctuation">)</span></span>
<span class="token selector">body</span>
  <span class="token func"><span class="token function">pad</span><span class="token punctuation">(</span>padding margin<span class="token punctuation">,</span> <span class="token number">10</span><span class="token unit">px</span><span class="token punctuation">)</span></span>

</code></pre></div><p>对应于：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
<span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
<span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="条件赋值"><a href="#条件赋值" class="header-anchor">#</a> 条件赋值：<code>?=</code> <code>:=</code></h4> <p>条件赋值操作符 <code>?=</code>（别名<code>?:</code>）使得无需破坏旧值（如果存在）定义变量。该操作符可以扩展成三元 <code>is defined</code> 的二元操作。例如，下面这些作用都是相同的：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">color</span> <span class="token operator">:=</span> <span class="token color">white</span></span>
<span class="token variable-declaration"><span class="token variable">color</span> <span class="token operator">?=</span> <span class="token color">white</span></span>
<span class="token variable-declaration"><span class="token variable">color</span> <span class="token operator">=</span> color <span class="token operator">is defined</span> <span class="token operator">?</span> color <span class="token punctuation">:</span> <span class="token color">white</span></span>

</code></pre></div><p>如果我们使用等号=, 就只是简单地赋值。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">color</span> <span class="token operator">=</span> <span class="token color">white</span></span>
<span class="token variable-declaration"><span class="token variable">color</span> <span class="token operator">=</span> <span class="token color">black</span></span>
<span class="token property-declaration"><span class="token property">color</span>                             <span class="token comment">// =&gt; black</span></span>

</code></pre></div><p>但当使用 <code>?=</code>，第二个赋值失效了：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">color</span> <span class="token operator">=</span> <span class="token color">white</span></span>
<span class="token variable-declaration"><span class="token variable">color</span> <span class="token operator">?=</span> <span class="token color">black</span></span>
<span class="token property-declaration"><span class="token property">color</span>                             <span class="token comment">// =&gt; white</span></span>

</code></pre></div><h4 id="实例检查-is-a"><a href="#实例检查-is-a" class="header-anchor">#</a> 实例检查：<code>is a</code></h4> <p><code>Stylus</code> 提供一个二元运算符叫做 <code>is a</code>, 用做类型检查。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token property-declaration"><span class="token property">15</span> <span class="token operator">is a</span> <span class="token string">'unit'</span>                    <span class="token comment">// =&gt; true</span></span>
#fff is a <span class="token string">'rgba'</span>                  <span class="token comment">// =&gt; true</span>
<span class="token property-declaration"><span class="token property">15</span> <span class="token operator">is a</span> <span class="token string">'rgba'</span>                    <span class="token comment">// =&gt; false</span></span>

</code></pre></div><p>另外，我们可以使用 <code>type()</code> 这个内置函数。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">type</span><span class="token punctuation">(</span><span class="token hexcode">#fff</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'rgba'</span>              <span class="token comment">// =&gt; true</span></span>

</code></pre></div><blockquote><p>注意：<code>color</code> 是唯一的特殊情况，当左边是 <code>RGBA</code> 或者 <code>HSLA</code> 节点时，都为 <code>true</code>.</p></blockquote> <h4 id="变量定义-is-defined"><a href="#变量定义-is-defined" class="header-anchor">#</a> 变量定义：<code>is defined</code></h4> <p>此伪二元运算符右边空荡荡，左边无计算。用来检查变量是否已经分配了值。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token property-declaration"><span class="token property">foo</span> <span class="token operator">is defined</span>                    <span class="token comment">// =&gt; false</span></span>
<span class="token variable-declaration"><span class="token variable">foo</span> <span class="token operator">=</span> <span class="token number">15</span><span class="token unit">px</span></span>
<span class="token property-declaration"><span class="token property">foo</span> <span class="token operator">is defined</span>                    <span class="token comment">// =&gt; true</span></span>
#fff is defined                   <span class="token comment">// =&gt; 'invalid &quot;is defined&quot; check on non-variable #fff'</span>

</code></pre></div><p>另外，我们可以使用内置 <code>lookup(name)</code> 方法做这个活动态查找。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">name</span> <span class="token operator">=</span> <span class="token string">'blue'</span></span>
<span class="token func"><span class="token function">lookup</span><span class="token punctuation">(</span><span class="token string">'light-'</span> <span class="token operator">+</span> name<span class="token punctuation">)</span>           <span class="token comment">// =&gt; null</span></span>
<span class="token variable-declaration"><span class="token variable">light-blue</span> <span class="token operator">=</span> <span class="token hexcode">#80e2e9</span></span>
<span class="token func"><span class="token function">lookup</span><span class="token punctuation">(</span><span class="token string">'light-'</span> <span class="token operator">+</span> name<span class="token punctuation">)</span>           <span class="token comment">// =&gt; #80e2e9</span></span>

</code></pre></div><p>该操作符必不可少，因为一个未定义的标识符仍是真值。如：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body</span>
  <span class="token statement"><span class="token keyword">if</span> ohnoes</span>
    <span class="token property-declaration"><span class="token property">padding</span> <span class="token number">5</span><span class="token unit">px</span></span>

</code></pre></div><p>当未定义的时候，产生的是下面的 <code>CSS</code>：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><p>显然，这不是我们想要的，如下书写就安全了：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body</span>
  <span class="token statement"><span class="token keyword">if</span> ohnoes <span class="token operator">is defined</span></span>
    <span class="token property-declaration"><span class="token property">padding</span> <span class="token number">5</span><span class="token unit">px</span></span>

</code></pre></div><h4 id="三元"><a href="#三元" class="header-anchor">#</a> 三元</h4> <p>三元运算符的运作正如大部分语言里面的那样。三个操作对象的操作符（条件表达式、真表达式以及假表达式）。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">num</span> <span class="token operator">=</span> <span class="token number">15</span></span>
<span class="token property-declaration"><span class="token property">num</span> <span class="token operator">?</span> unit<span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token string">'px'</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token number">20</span><span class="token unit">px</span>                <span class="token comment">// =&gt; 15px</span></span>

</code></pre></div><h4 id="铸造"><a href="#铸造" class="header-anchor">#</a> 铸造</h4> <p>作为替代简洁的内置 <code>unit()</code> 函数，语法 <code>(expr) unit</code> 可用来强制后缀。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body</span>
  <span class="token variable-declaration"><span class="token variable">n</span> <span class="token operator">=</span> <span class="token number">5</span></span>
  <span class="token property-declaration"><span class="token property">foo</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span>em</span>
  <span class="token property-declaration"><span class="token property">foo</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">%</span></span>
  <span class="token property-declaration"><span class="token property">foo</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">%</span></span>
  <span class="token property-declaration"><span class="token property">foo</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>n <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span>px</span>
  <span class="token property-declaration"><span class="token property">foo</span><span class="token punctuation">:</span> unit<span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'%'</span><span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">foo</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">unit</span><span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">+</span> <span class="token number">180</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> deg<span class="token punctuation">)</span></span></span>

</code></pre></div><h4 id="颜色操作"><a href="#颜色操作" class="header-anchor">#</a> 颜色操作</h4> <p>颜色操作提供了一个简洁，富有表现力的方式来改变其组成。例如，我们可以对每个 <code>RGB</code>：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code>#0e0 + #0e0                                 <span class="token comment">// =&gt; #0f0</span>

</code></pre></div><p>另外一个例子是通过增加或减少百分值调整颜色亮度。颜色亮，加；暗，则减。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code>#888 + 50%                                  <span class="token comment">// =&gt; #c3c3c3</span>
#888 - 50%                                  <span class="token comment">// =&gt; #444</span>

</code></pre></div><p>我们也可以通过增加或减去色度调整色调。例如，红色增加 <code>65deg</code> 就变成了黄色。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code>#f00 + 50deg                                <span class="token comment">// =&gt; #ffd500</span>

</code></pre></div><p>值适当固定。例如，我们可以&quot;旋转&quot; <code>180度</code> 的色调，如果目前的值是 <code>320deg</code>, 将变成 <code>140deg</code>.</p> <p>我们也可能一次调整几个值（包括 <code>alpha</code>），通过使用 <code>rgb()</code>, <code>rgba()</code>, <code>hsl()</code>, 或 <code>hsla()</code>:</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code>#f00 - <span class="token func"><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span>                    <span class="token comment">// =&gt; rgba(155,0,0,0.5)</span></span>

</code></pre></div><h4 id="格式化字符串"><a href="#格式化字符串" class="header-anchor">#</a> 格式化字符串</h4> <p>格式化字符串模样的字符串 <code>%</code> 可以用来生成字面量值，通过传参给内置 <code>s()</code> 方法。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token string">'X::Microsoft::Crap(%s)'</span> % #fc0             <span class="token comment">// =&gt; X::Microsoft::Crap(#fc0)</span>

</code></pre></div><p>多个值需要括起来：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token string">'-webkit-gradient(%s, %s, %s)'</span> % <span class="token punctuation">(</span>linear <span class="token punctuation">(</span>0 0<span class="token punctuation">)</span> <span class="token punctuation">(</span>0 100%<span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token comment">// =&gt; -webkit-gradient(linear, 0 0, 0 100%)</span>

</code></pre></div><h3 id="混合书写"><a href="#混合书写" class="header-anchor">#</a> 混合书写</h3> <h4 id="混入"><a href="#混入" class="header-anchor">#</a> 混入</h4> <p>混入和函数定义方法一致，但是应用却大相径庭。例如，下面有定义的 <code>border-radius(n)</code> 方法，其却作为一个 <code>mixin</code>（如，作为状态调用，而非表达式）调用。 当 <code>border-radius()</code> 选择器中调用时候，属性会被扩展并复制在选择器中。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">border-radius</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">-webkit-border-radius</span> n</span>
  <span class="token property-declaration"><span class="token property">-moz-border-radius</span> n</span>
  <span class="token property-declaration"><span class="token property">border-radius</span> n</span>

<span class="token selector">form input[type=button]</span>
  <span class="token func"><span class="token function">border-radius</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">)</span></span>

</code></pre></div><p>编译成：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">form input[type=button] <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">-webkit-border-radius</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">-moz-border-radius</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><p>使用混入书写，可以完全忽略括号。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">border-radius</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">-webkit-border-radius</span> n</span>
  <span class="token property-declaration"><span class="token property">-moz-border-radius</span> n</span>
  <span class="token property-declaration"><span class="token property">border-radius</span> n</span>

<span class="token selector">form input[type=button]</span>
  <span class="token property-declaration"><span class="token property">border-radius</span> <span class="token number">5</span><span class="token unit">px</span></span>

</code></pre></div><p>注意到我们混合书写中的 <code>border-radius</code> 当作了属性，而不是一个递归函数调用。</p> <p>更进一步，我们可以利用 <code>arguments</code> 这个局部变量，传递可以包含多值的表达式。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">border-radius</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">-webkit-border-radius</span> arguments</span>
  <span class="token property-declaration"><span class="token property">-moz-border-radius</span> arguments</span>
  <span class="token property-declaration"><span class="token property">border-radius</span> arguments</span>

</code></pre></div><p>现在，我们可以像这样子传值：<code>border-radius 1px 2px / 3px 4px</code> 另外一个很赞的应用是特定的私有前缀支持——例如IE浏览器的透明度：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">support-for-ie</span> <span class="token operator">?=</span> <span class="token boolean">true</span></span>

<span class="token func"><span class="token function">opacity</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">opacity</span> n</span>
  <span class="token statement"><span class="token keyword">if</span> support-for-ie</span>
    <span class="token property-declaration"><span class="token property">filter</span> unquote<span class="token punctuation">(</span><span class="token string">'progid:DXImageTransform.Microsoft.Alpha(Opacity='</span> <span class="token operator">+</span> <span class="token func"><span class="token function">round</span><span class="token punctuation">(</span>n <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">+</span> </span><span class="token string">')'</span><span class="token punctuation">)</span></span>

<span class="token selector">#logo</span>
  <span class="token selector">&amp;:hover</span>
    <span class="token property-declaration"><span class="token property">opacity</span> <span class="token number">0.5</span></span>

</code></pre></div><p>渲染为：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">#logo:hover <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">filter</span><span class="token punctuation">:</span> progid<span class="token punctuation">:</span>DXImageTransform.Microsoft.<span class="token func"><span class="token function">Alpha</span><span class="token punctuation">(</span>Opacity<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="父级引用-2"><a href="#父级引用-2" class="header-anchor">#</a> 父级引用</h4> <p>混合书写可以利用父级引用字符 <code>&amp;</code>, 继承父业而不是自己筑巢。</p> <p>例如，我们要用 <code>stripe(even, odd)</code> 创建一个条纹表格。<code>even</code> 和 <code>odd</code> 均提供了默认颜色值，每行也指定了 <code>background-color</code> 属性。我们可以在 <code>tr</code> 嵌套中使用 <code>&amp;</code> 来引用 <code>tr</code>，以提供 <code>even</code> 颜色。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">stripe</span><span class="token punctuation">(</span>even <span class="token operator">=</span> <span class="token hexcode">#fff</span><span class="token punctuation">,</span> odd <span class="token operator">=</span> <span class="token hexcode">#eee</span><span class="token punctuation">)</span></span>
 <span class="token selector">tr</span>
   <span class="token property-declaration"><span class="token property">background-color</span> odd</span>
   <span class="token selector">&amp;.even
   &amp;:nth-child(even)</span>
       <span class="token property-declaration"><span class="token property">background-color</span> even</span>

</code></pre></div><p>然后，利用混合书写，如下：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">table</span>
  <span class="token func"><span class="token function">stripe</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token selector">td</span>
    <span class="token property-declaration"><span class="token property">padding</span> <span class="token number">4</span><span class="token unit">px</span> <span class="token number">10</span><span class="token unit">px</span></span>

<span class="token selector">table#users</span>
  <span class="token func"><span class="token function">stripe</span><span class="token punctuation">(</span><span class="token hexcode">#303030</span><span class="token punctuation">,</span> <span class="token hexcode">#494848</span><span class="token punctuation">)</span></span>
  <span class="token selector">td</span>
    <span class="token property-declaration"><span class="token property">color</span> <span class="token color">white</span></span>

</code></pre></div><p>另外，<code>stripe()</code> 的定义无需父引用：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">stripe</span><span class="token punctuation">(</span>even <span class="token operator">=</span> <span class="token hexcode">#fff</span><span class="token punctuation">,</span> odd <span class="token operator">=</span> <span class="token hexcode">#eee</span><span class="token punctuation">)</span></span>
  <span class="token selector">tr</span>
    <span class="token property-declaration"><span class="token property">background-color</span> odd</span>
  <span class="token selector">tr.even
  tr:nth-child(even)</span>
    <span class="token property-declaration"><span class="token property">background-color</span> even</span>

</code></pre></div><p>如果你愿意，你可以把 <code>stripe()</code> 当作属性调用。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token property-declaration"><span class="token property">stripe</span> <span class="token hexcode">#fff</span> <span class="token hexcode">#000</span></span>

</code></pre></div><h4 id="混合书写中的混合书写"><a href="#混合书写中的混合书写" class="header-anchor">#</a> 混合书写中的混合书写</h4> <p>混合书写可以利用其它混合书写，建立在它们自己的属性和选择器上。 例如，下面创建内联 <code>comma-list()</code>（通过 <code>inline-list()</code>）以及逗号分隔的无序列表。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">inline-list</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token selector">li</span>
    <span class="token property-declaration"><span class="token property">display</span> inline</span>

<span class="token func"><span class="token function">comma-list</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token func"><span class="token function">inline-list</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token selector">li</span>
    <span class="token selector">&amp;:after</span>
      <span class="token property-declaration"><span class="token property">content</span> <span class="token string">', '</span></span>
    <span class="token selector">&amp;:last-child:after</span>
      <span class="token property-declaration"><span class="token property">content</span> <span class="token string">''</span></span>

<span class="token selector">ul</span>
  <span class="token func"><span class="token function">comma-list</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>

</code></pre></div><p>渲染：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">ul li:after <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;, &quot;</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
<span class="token selector">ul li:last-child:after <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
<span class="token selector">ul li <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h3> <h4 id="函数-2"><a href="#函数-2" class="header-anchor">#</a> 函数</h4> <p><code>Stylus</code> 强大之处就在于其内置的语言函数定义。其定义与混入(<code>mixins</code>)一致；却可以返回值。</p> <h4 id="返回值"><a href="#返回值" class="header-anchor">#</a> 返回值</h4> <p>例如，两数值相加的方法</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">a</span> <span class="token operator">+</span> b</span>

<span class="token selector">body</span>
  <span class="token property-declaration"><span class="token property">padding</span> <span class="token func"><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token unit">px</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span></span></span>

</code></pre></div><p>渲染：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="默认参数"><a href="#默认参数" class="header-anchor">#</a> 默认参数</h4> <p>在 <code>Stylus</code> 中，可以设置默认参数。例如：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b <span class="token operator">=</span> a<span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">a</span> <span class="token operator">+</span> b</span>

<span class="token func"><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>                        <span class="token comment">// =&gt; 15</span></span>
<span class="token func"><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>                           <span class="token comment">// =&gt; 20</span></span>

</code></pre></div><p>因为参数默认是赋值，我们可以使用函数调用作为默认值：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token func"><span class="token function">unit</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> px<span class="token punctuation">)</span><span class="token punctuation">)</span></span></span>
  <span class="token property-declaration"><span class="token property">a</span> <span class="token operator">+</span> b</span>

</code></pre></div><h4 id="函数体"><a href="#函数体" class="header-anchor">#</a> 函数体</h4> <p>可以把简单的 <code>add()</code> 方法更进一步。通过内置 <code>unit()</code> 把单位都变成 <code>px</code>, 因为赋值在每个参数上，因此可以无视单位换算。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b <span class="token operator">=</span> a<span class="token punctuation">)</span></span>
  <span class="token variable-declaration"><span class="token variable">a</span> <span class="token operator">=</span> <span class="token func"><span class="token function">unit</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> px<span class="token punctuation">)</span></span></span>
  <span class="token variable-declaration"><span class="token variable">b</span> <span class="token operator">=</span> <span class="token func"><span class="token function">unit</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> px<span class="token punctuation">)</span></span></span>
  <span class="token property-declaration"><span class="token property">a</span> <span class="token operator">+</span> b</span>

<span class="token func"><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token unit">%</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token unit">deg</span><span class="token punctuation">)</span>                 <span class="token comment">// =&gt; 25</span></span>

</code></pre></div><h4 id="多个返回值"><a href="#多个返回值" class="header-anchor">#</a> 多个返回值</h4> <p><code>Stylus</code> 的函数可以返回多个值，就像你给变量赋多个值一样。例如下面就是一个有效赋值：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">sizes</span> <span class="token operator">=</span> <span class="token number">15</span><span class="token unit">px</span> <span class="token number">10</span><span class="token unit">px</span></span>

sizes<span class="token punctuation">[</span>0<span class="token punctuation">]</span>                        <span class="token comment">// =&gt; 15px</span>

</code></pre></div><p>类似的，我们可以在函数中返回多个值：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">sizes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
 <span class="token property-declaration"><span class="token property">15px</span> <span class="token number">10</span><span class="token unit">px</span></span>

<span class="token func"><span class="token function">sizes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>                      <span class="token comment">// =&gt; 15px</span></span>

</code></pre></div><p>有个小小的例外就是返回值是标识符。例如，下面看上去像一个属性赋值给 <code>Stylus</code>（因为没有操作符）。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">b</span> a</span>

</code></pre></div><p>为避免歧义，可以使用括号，或是 <code>return</code> 关键字。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span></span>
  <span class="token punctuation">(</span>b a<span class="token punctuation">)</span>

<span class="token func"><span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span></span>
  <span class="token statement"><span class="token keyword">return</span> b a</span>

</code></pre></div><h4 id="条件"><a href="#条件" class="header-anchor">#</a> 条件</h4> <p>假如，我们想要创建一个名为 <code>stringish()</code> 的函数，用来决定参数是否是字符串。检查 <code>val</code> 是否是字符串或缩进（类似字符）。如下，使用 <code>yes</code> 和 <code>no</code> 代替 <code>true</code> 和 <code>false</code>.</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">stringish</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span></span>
  <span class="token statement"><span class="token keyword">if</span> val <span class="token operator">is a</span> <span class="token string">'string'</span> <span class="token operator">or</span> val <span class="token operator">is a</span> <span class="token string">'ident'</span></span>
    yes
  <span class="token selector">else</span>
    no

</code></pre></div><p>使用：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">stringish</span><span class="token punctuation">(</span><span class="token string">'yay'</span><span class="token punctuation">)</span> <span class="token operator">==</span> yes                 <span class="token comment">// =&gt; true</span></span>
<span class="token func"><span class="token function">stringish</span><span class="token punctuation">(</span>yay<span class="token punctuation">)</span> <span class="token operator">==</span> yes                   <span class="token comment">// =&gt; true</span></span>
<span class="token func"><span class="token function">stringish</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">==</span> no                      <span class="token comment">// =&gt; true</span></span>

</code></pre></div><blockquote><p>注意：<code>yes</code> 和 <code>no</code> 并不是布尔值。</p></blockquote> <p>另外一个例子：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">compare</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span></span>
  <span class="token statement"><span class="token keyword">if</span> a <span class="token operator">&gt;</span> b</span>
    higher
  <span class="token statement"><span class="token keyword">else</span> <span class="token keyword">if</span> a <span class="token operator">&lt;</span> b</span>
    lower
  <span class="token selector">else</span>
    equal

<span class="token comment">// 使用：</span>
<span class="token func"><span class="token function">compare</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>                             <span class="token comment">// =&gt; higher</span></span>
<span class="token func"><span class="token function">compare</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>                             <span class="token comment">// =&gt; lower</span></span>
<span class="token func"><span class="token function">compare</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>                           <span class="token comment">// =&gt; equal</span></span>

</code></pre></div><h4 id="别名"><a href="#别名" class="header-anchor">#</a> 别名</h4> <p>给函数起个别名，例如上面的 <code>add()</code> 添加别名plus(), 如下：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">plus</span> <span class="token operator">=</span> add</span>

<span class="token func"><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>                                <span class="token comment">// =&gt; 3</span></span>

</code></pre></div><h4 id="变量函数"><a href="#变量函数" class="header-anchor">#</a> 变量函数</h4> <p>可以把函数当作变量传递到新的函数中。例如，<code>invoke()</code> 接受函数作为参数，因此可以传递<code>add()</code> 以及 <code>sub()</code>.</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">invoke</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> fn<span class="token punctuation">)</span></span>
  <span class="token func"><span class="token function">fn</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span></span>

<span class="token func"><span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">a</span> <span class="token operator">+</span> b</span>

<span class="token selector">body</span>
  <span class="token property-declaration"><span class="token property">padding</span> <span class="token func"><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> add<span class="token punctuation">)</span></span></span>
  <span class="token property-declaration"><span class="token property">padding</span> <span class="token func"><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> sub<span class="token punctuation">)</span></span></span>

</code></pre></div><p>结果：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">-5</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="参数"><a href="#参数" class="header-anchor">#</a> 参数</h4> <p><code>arguments</code> 是所有函数体都有的局部变量，包含传递的所有参数。</p> <p>例如：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token variable-declaration"><span class="token variable">n</span> <span class="token operator">=</span> <span class="token number">0</span></span>
  <span class="token statement"><span class="token keyword">for</span> num <span class="token operator">in</span> arguments</span>
    <span class="token variable-declaration"><span class="token variable">n</span> <span class="token operator">=</span> n <span class="token operator">+</span> num</span>

<span class="token func"><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>                              <span class="token comment">// =&gt; 15</span></span>

</code></pre></div><h4 id="哈希示例"><a href="#哈希示例" class="header-anchor">#</a> 哈希示例</h4> <p>下面，我们定义 <code>get(hash, key)</code> 方法，用来返回 <code>key</code> 值或 <code>null</code>. 我们遍历每个键值对，如果键值匹配，返回对应的值。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">get</span><span class="token punctuation">(</span>hash<span class="token punctuation">,</span> key<span class="token punctuation">)</span></span>
  <span class="token statement"><span class="token keyword">return</span> pair<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">if</span> pair<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> key <span class="token keyword">for</span> pair <span class="token operator">in</span> hash</span>

</code></pre></div><p>下面例子可以证明，语言函数模样的 <code>Stylus</code> 表达式具有更大的灵活性。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">hash</span> <span class="token operator">=</span> <span class="token punctuation">(</span>one <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>two <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>three <span class="token number">3</span><span class="token punctuation">)</span></span>
<span class="token func"><span class="token function">get</span><span class="token punctuation">(</span>hash<span class="token punctuation">,</span> two<span class="token punctuation">)</span>                            <span class="token comment">// =&gt; 2</span></span>
<span class="token func"><span class="token function">get</span><span class="token punctuation">(</span>hash<span class="token punctuation">,</span> three<span class="token punctuation">)</span>                          <span class="token comment">// =&gt; 3</span></span>
<span class="token func"><span class="token function">get</span><span class="token punctuation">(</span>hash<span class="token punctuation">,</span> something<span class="token punctuation">)</span>                      <span class="token comment">// =&gt; null</span></span>

</code></pre></div><h2 id="关键字参数"><a href="#关键字参数" class="header-anchor">#</a> 关键字参数</h2> <h4 id="关键字参数-2"><a href="#关键字参数-2" class="header-anchor">#</a> 关键字参数</h4> <p><code>Stylus</code> 支持关键字参数，或 <code>kwargs</code>. 允许你根据相关参数名引用参数。</p> <p>下面这些例子功能上都是一样的。但是，我们可以在列表中的任何地方放置关键字参数。其余不键入参数将适用于尚未得到满足的参数。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span>
  <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token color">red</span><span class="token punctuation">:</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token color">green</span><span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token color">blue</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> alpha<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span>
  <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">rgba</span><span class="token punctuation">(</span>alpha<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token color">blue</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token color">red</span><span class="token punctuation">:</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span>
  <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">rgba</span><span class="token punctuation">(</span>alpha<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token color">blue</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span>
<span class="token punctuation">}</span>

</code></pre></div><p>等同于：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span>
  <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span>
  <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span>
  <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span>
<span class="token punctuation">}</span>

</code></pre></div><p>查看函数或混合书写中接受的参数，可以使用 <code>p()</code> 方法。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">p</span><span class="token punctuation">(</span>rgba<span class="token punctuation">)</span></span>

</code></pre></div><p>生成：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token property-declaration"><span class="token property">inspect</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token color">red</span><span class="token punctuation">,</span> <span class="token color">green</span><span class="token punctuation">,</span> <span class="token color">blue</span><span class="token punctuation">,</span> alpha<span class="token punctuation">)</span></span></span>

</code></pre></div><h3 id="注释"><a href="#注释" class="header-anchor">#</a> 注释</h3> <h4 id="注释-2"><a href="#注释-2" class="header-anchor">#</a> 注释</h4> <p><code>Stylus</code> 支持三种注释，单行注释，多行注释，以及多行缓冲注释。</p> <h4 id="单行注释"><a href="#单行注释" class="header-anchor">#</a> 单行注释</h4> <p>跟 <code>JavaScript</code> 一样，双斜杠，<code>CSS</code> 中不输出。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector"><span class="token comment">// 我是注释!</span>
body</span>
  <span class="token property-declaration"><span class="token property">padding</span> <span class="token number">5</span><span class="token unit">px</span> <span class="token comment">// padding</span></span>

</code></pre></div><h4 id="多行注释"><a href="#多行注释" class="header-anchor">#</a> 多行注释</h4> <p>多行注释看起来有点像 <code>CSS</code> 的常规注释，它们只有在 <code>compress</code> 选项未启用的时候才会被输出。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">/*</span>
 * 给定数值合体
 */

</code></pre></div><h4 id="多行缓冲注释"><a href="#多行缓冲注释" class="header-anchor">#</a> 多行缓冲注释</h4> <p>跟多行注释类似，不同之处在于开始的时候，这里是 <code>/*!</code>. 这个相当于告诉 <code>Stylus</code> 压缩的时候这段无视直接输出。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">/*!</span>
 * 给定数值合体
 */
</code></pre></div><h2 id="stylus进阶用法"><a href="#stylus进阶用法" class="header-anchor">#</a> Stylus进阶用法</h2> <h3 id="剩余参数"><a href="#剩余参数" class="header-anchor">#</a> 剩余参数</h3> <h4 id="剩余参数-2"><a href="#剩余参数-2" class="header-anchor">#</a> 剩余参数</h4> <p><code>Stylus</code> 支持 <code>name...</code> 形式的其余参数。这些参数可以消化传递给混写或函数的参数们。这在处理浏览器私有属性，如 <code>-moz</code> 或 <code>-webkit</code> 的时候很管用。下面这个例子中，所有的参数 <code>(1px, 2px, ...)</code> 都被一个 <code>args</code> 参数给简单处理了：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">box-shadow</span><span class="token punctuation">(</span>args<span class="token operator">...</span><span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">-webkit-box-shadow</span> args</span>
  <span class="token property-declaration"><span class="token property">-moz-box-shadow</span> args</span>
  <span class="token property-declaration"><span class="token property">box-shadow</span> args</span>
<span class="token selector">#login</span>
  <span class="token property-declaration"><span class="token property">box-shadow</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token number">5</span><span class="token unit">px</span> <span class="token hexcode">#eee</span></span>

</code></pre></div><p>生成为：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">#login <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token number">5</span><span class="token unit">px</span> <span class="token hexcode">#eee</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">-moz-box-shadow</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token number">5</span><span class="token unit">px</span> <span class="token hexcode">#eee</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token number">5</span><span class="token unit">px</span> <span class="token hexcode">#eee</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><p>想指定特定的参数，如 <code>x-offset</code>，可以使用 <code>args[0]</code>, 或者，可能希望重新定义混入。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">box-shadow</span><span class="token punctuation">(</span>offset-x<span class="token punctuation">,</span> args<span class="token operator">...</span><span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">got-offset-x</span> offset-x</span>
  <span class="token property-declaration"><span class="token property">-webkit-box-shadow</span> offset-x args</span>
  <span class="token property-declaration"><span class="token property">-moz-box-shadow</span> offset-x args</span>
  <span class="token property-declaration"><span class="token property">box-shadow</span> offset-x args</span>
<span class="token selector">#login</span>
  <span class="token property-declaration"><span class="token property">box-shadow</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token number">5</span><span class="token unit">px</span> <span class="token hexcode">#eee</span></span>

</code></pre></div><p>生成为：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">#login <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">got-offset-x</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token number">5</span><span class="token unit">px</span> <span class="token hexcode">#eee</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">-moz-box-shadow</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token number">5</span><span class="token unit">px</span> <span class="token hexcode">#eee</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token number">5</span><span class="token unit">px</span> <span class="token hexcode">#eee</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="参数-2"><a href="#参数-2" class="header-anchor">#</a> 参数</h4> <p><code>arguments</code> 变量可以实现表达式的精确传递，包括逗号等等。这可以弥补 <code>args...</code> 参数的一些不足，例子：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">box-shadow</span><span class="token punctuation">(</span>args<span class="token operator">...</span><span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">-webkit-box-shadow</span> args</span>
  <span class="token property-declaration"><span class="token property">-moz-box-shadow</span> args</span>
  <span class="token property-declaration"><span class="token property">box-shadow</span> args</span>
<span class="token selector">#login</span>
  <span class="token property-declaration"><span class="token property">box-shadow</span> <span class="token hexcode">#ddd</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">1</span><span class="token unit">px</span><span class="token punctuation">,</span> <span class="token hexcode">#eee</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span></span>

</code></pre></div><p>结果并非想要得到的：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">#login <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> <span class="token hexcode">#ddd</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token hexcode">#eee</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">-moz-box-shadow</span><span class="token punctuation">:</span> <span class="token hexcode">#ddd</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token hexcode">#eee</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
    <span class="token property-declaration"><span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token hexcode">#ddd</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token hexcode">#eee</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><p>逗号被忽略了。现在使用 <code>arguments</code> 重新定义这个混合书写。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">box-shadow</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">-webkit-box-shadow</span> arguments</span>
  <span class="token property-declaration"><span class="token property">-moz-box-shadow</span> arguments</span>
  <span class="token property-declaration"><span class="token property">box-shadow</span> arguments</span>
<span class="token selector">body</span>
  <span class="token property-declaration"><span class="token property">box-shadow</span> <span class="token hexcode">#ddd</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">1</span><span class="token unit">px</span><span class="token punctuation">,</span> <span class="token hexcode">#eee</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span></span>

</code></pre></div><p>得到想要的结果：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> <span class="token hexcode">#ddd</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">1</span><span class="token unit">px</span><span class="token punctuation">,</span> <span class="token hexcode">#eee</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">-moz-box-shadow</span><span class="token punctuation">:</span> <span class="token hexcode">#ddd</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">1</span><span class="token unit">px</span><span class="token punctuation">,</span> <span class="token hexcode">#eee</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token hexcode">#ddd</span> <span class="token number">1</span><span class="token unit">px</span> <span class="token number">1</span><span class="token unit">px</span><span class="token punctuation">,</span> <span class="token hexcode">#eee</span> <span class="token number">2</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="条件-2"><a href="#条件-2" class="header-anchor">#</a> 条件</h3> <h4 id="条件-3"><a href="#条件-3" class="header-anchor">#</a> 条件</h4> <p>条件提供了语言的流控制，否则就是纯粹的静态语言。提供的条件有导入、混入、函数以及更多。</p> <h4 id="if-else-if-else"><a href="#if-else-if-else" class="header-anchor">#</a> if / else if / else</h4> <p>跟一般的语言一致， <code>if</code> 表达式满足 <code>(true)</code> 的时候执行后面语句块，否则，继续后面的 <code>else if</code> 或 <code>else</code>.</p> <p>下面这个例子，根据 <code>overload</code> 的条件，决定是使用 <code>padding</code> 还是 <code>margin</code>.</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">overload-padding</span> <span class="token operator">=</span> <span class="token boolean">true</span></span>

<span class="token statement"><span class="token keyword">if</span> overload-padding</span>
  <span class="token func"><span class="token function">padding</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> x<span class="token punctuation">)</span></span>
    <span class="token property-declaration"><span class="token property">margin</span> y x</span>

<span class="token selector">body</span>
  <span class="token property-declaration"><span class="token property">padding</span> <span class="token number">5</span><span class="token unit">px</span> <span class="token number">10</span><span class="token unit">px</span></span>

</code></pre></div><p>另外的例子：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">box</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> margin <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">padding</span> y x</span>
  <span class="token statement"><span class="token keyword">if</span> margin</span>
    <span class="token property-declaration"><span class="token property">margin</span> y x</span>

<span class="token selector">body</span>
  <span class="token func"><span class="token function">box</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token unit">px</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span>

</code></pre></div><p>另外的box()帮手：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">box</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> margin-only <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span></span>
  <span class="token statement"><span class="token keyword">if</span> margin-only</span>
    <span class="token property-declaration"><span class="token property">margin</span> y x</span>
  <span class="token selector">else</span>
    <span class="token property-declaration"><span class="token property">padding</span> y x</span>

</code></pre></div><h4 id="除非-unless"><a href="#除非-unless" class="header-anchor">#</a> 除非(unless)</h4> <p>熟悉 <code>Ruby</code> 程序语言的用户应该都知道 <code>unless</code> 条件，其基本上与 <code>if</code> 相反，本质上是 <code>(!(expr))</code>.</p> <p>下面这个例子中，如果 <code>disable-padding-override</code> 是 <code>undefined</code> 或 <code>false</code>, <code>padding</code> 将被干掉，显示 <code>margin</code> 代替之。但是，如果是 <code>true</code>, <code>padding</code> 将会如期继续输出 <code>padding 5px 10px</code>.</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">disable-padding-override</span> <span class="token operator">=</span> <span class="token boolean">true</span></span>

<span class="token statement"><span class="token keyword">unless</span> disable-padding-override <span class="token operator">is defined</span> <span class="token operator">and</span> disable-padding-override</span>
  <span class="token func"><span class="token function">padding</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span></span>
    <span class="token property-declaration"><span class="token property">margin</span> y x</span>

<span class="token selector">body</span>
  <span class="token property-declaration"><span class="token property">padding</span> <span class="token number">5</span><span class="token unit">px</span> <span class="token number">10</span><span class="token unit">px</span></span>

</code></pre></div><h4 id="后缀条件"><a href="#后缀条件" class="header-anchor">#</a> 后缀条件</h4> <p><code>Stylus</code> 支持后缀条件，这就意味着 <code>if</code> 和 <code>unless</code> 可以当作操作符；当右边表达式为真的时候执行左边的操作对象。例如，我们定义 <code>negative()</code> 来执行一些基本的检查。下面我们使用块式条件：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">negative</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></span>
  <span class="token statement"><span class="token keyword">unless</span> n <span class="token operator">is a</span> <span class="token string">'unit'</span></span>
    <span class="token func"><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'无效数值'</span><span class="token punctuation">)</span></span>
  <span class="token statement"><span class="token keyword">if</span> n <span class="token operator">&lt;</span> <span class="token number">0</span></span>
    yes
  <span class="token selector">else</span>
    no

</code></pre></div><p>接下来，利用后缀条件让我们的方法简洁。</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">negative</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></span>
  <span class="token func"><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'无效数值'</span><span class="token punctuation">)</span> <span class="token keyword">unless</span> n <span class="token operator">is a</span> <span class="token string">'unit'</span></span>
  <span class="token statement"><span class="token keyword">return</span> yes <span class="token keyword">if</span> n <span class="token operator">&lt;</span> <span class="token number">0</span></span>
  no

</code></pre></div><p>当然，我们可以更进一步。如这个 <code>n &lt; 0 ? yes : no</code> 可以用布尔代替：<code>n &lt; 0</code>。后缀条件适用于大多数的单行语句。如，<code>@import</code>, <code>@charset</code>, 混合书写等。当然，下面所示的属性也是可以的：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">pad</span><span class="token punctuation">(</span>types <span class="token operator">=</span> margin padding<span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">padding</span> <span class="token func"><span class="token function">unit</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> px<span class="token punctuation">)</span> <span class="token keyword">if</span> padding <span class="token operator">in</span> types</span></span>
  <span class="token property-declaration"><span class="token property">margin</span> <span class="token func"><span class="token function">unit</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> px<span class="token punctuation">)</span> <span class="token keyword">if</span> margin <span class="token operator">in</span> types</span></span>
<span class="token selector">body</span>
  <span class="token func"><span class="token function">pad</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="token selector">body</span>
  <span class="token func"><span class="token function">pad</span><span class="token punctuation">(</span>margin<span class="token punctuation">)</span></span>
<span class="token selector">body</span>
  <span class="token variable-declaration"><span class="token variable">apply-mixins</span> <span class="token operator">=</span> <span class="token boolean">true</span></span>
  <span class="token func"><span class="token function">pad</span><span class="token punctuation">(</span>padding<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">if</span> apply-mixins</span>

</code></pre></div><p>结果为：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
<span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
<span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token unit">px</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="迭代"><a href="#迭代" class="header-anchor">#</a> 迭代</h3> <h4 id="迭代-2"><a href="#迭代-2" class="header-anchor">#</a> 迭代</h4> <p><code>Stylus</code> 允许你通过 <code>for/in</code> 对表达式进行迭代形式如下：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token statement"><span class="token keyword">for</span> <span class="token operator">&lt;</span>val-name<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>key-name<span class="token operator">&gt;</span><span class="token punctuation">]</span> <span class="token operator">in</span> <span class="token operator">&lt;</span>expression<span class="token operator">&gt;</span></span>

</code></pre></div><p>例如：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body</span>
  <span class="token statement"><span class="token keyword">for</span> num <span class="token operator">in</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span></span>
    <span class="token property-declaration"><span class="token property">foo</span> num</span>

</code></pre></div><p>生成：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">foo</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">foo</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">foo</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><p>下面这个例子演示了如何使用 <code>&lt;key-name&gt;</code>：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body</span>
  <span class="token variable-declaration"><span class="token variable">fonts</span> <span class="token operator">=</span> Impact Arial sans-serif</span>
  <span class="token statement"><span class="token keyword">for</span> font<span class="token punctuation">,</span> i <span class="token operator">in</span> fonts</span>
    <span class="token property-declaration"><span class="token property">foo</span> i font</span>

</code></pre></div><p>生成为：</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">body <span class="token punctuation">{</span></span>
  <span class="token property-declaration"><span class="token property">foo</span><span class="token punctuation">:</span> <span class="token number">0</span> Impact<span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">foo</span><span class="token punctuation">:</span> <span class="token number">1</span> Arial<span class="token punctuation">;</span></span>
  <span class="token property-declaration"><span class="token property">foo</span><span class="token punctuation">:</span> <span class="token number">2</span> sans-serif<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
</code></pre></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">3/11/2022, 9:33:52 AM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/blog/CSS/stylus.html#特征" class="sidebar-link reco-side-特征" data-v-cb1513f6>特征</a></li><li class="level-2" data-v-cb1513f6><a href="/blog/CSS/stylus.html#使用" class="sidebar-link reco-side-使用" data-v-cb1513f6>使用</a></li><li class="level-2" data-v-cb1513f6><a href="/blog/CSS/stylus.html#基本语法" class="sidebar-link reco-side-基本语法" data-v-cb1513f6>基本语法</a></li><li class="level-3" data-v-cb1513f6><a href="/blog/CSS/stylus.html#选择器" class="sidebar-link reco-side-选择器" data-v-cb1513f6>选择器</a></li><li class="level-3" data-v-cb1513f6><a href="/blog/CSS/stylus.html#变量" class="sidebar-link reco-side-变量" data-v-cb1513f6>变量</a></li><li class="level-3" data-v-cb1513f6><a href="/blog/CSS/stylus.html#插值" class="sidebar-link reco-side-插值" data-v-cb1513f6>插值</a></li><li class="level-3" data-v-cb1513f6><a href="/blog/CSS/stylus.html#运算符" class="sidebar-link reco-side-运算符" data-v-cb1513f6>运算符</a></li><li class="level-3" data-v-cb1513f6><a href="/blog/CSS/stylus.html#混合书写" class="sidebar-link reco-side-混合书写" data-v-cb1513f6>混合书写</a></li><li class="level-3" data-v-cb1513f6><a href="/blog/CSS/stylus.html#函数" class="sidebar-link reco-side-函数" data-v-cb1513f6>函数</a></li><li class="level-2" data-v-cb1513f6><a href="/blog/CSS/stylus.html#关键字参数" class="sidebar-link reco-side-关键字参数" data-v-cb1513f6>关键字参数</a></li><li class="level-3" data-v-cb1513f6><a href="/blog/CSS/stylus.html#注释" class="sidebar-link reco-side-注释" data-v-cb1513f6>注释</a></li><li class="level-2" data-v-cb1513f6><a href="/blog/CSS/stylus.html#stylus进阶用法" class="sidebar-link reco-side-stylus进阶用法" data-v-cb1513f6>Stylus进阶用法</a></li><li class="level-3" data-v-cb1513f6><a href="/blog/CSS/stylus.html#剩余参数" class="sidebar-link reco-side-剩余参数" data-v-cb1513f6>剩余参数</a></li><li class="level-3" data-v-cb1513f6><a href="/blog/CSS/stylus.html#条件-2" class="sidebar-link reco-side-条件-2" data-v-cb1513f6>条件</a></li><li class="level-3" data-v-cb1513f6><a href="/blog/CSS/stylus.html#迭代" class="sidebar-link reco-side-迭代" data-v-cb1513f6>迭代</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><!----><!----><div></div></div></div>
    <script src="/assets/js/app.862b4c32.js" defer></script><script src="/assets/js/3.9cc2b3a1.js" defer></script><script src="/assets/js/1.8c30e9e6.js" defer></script><script src="/assets/js/64.2aad2e3f.js" defer></script>
  </body>
</html>
