# 基本概念

- 同步调用：当一个支付请求被发送到支付渠道方，支付渠道会很快返回一个结果。但是这个结果，只是告诉你调用成功了，不是扣款成功，这叫同步调用;
- 异步调用：同步请求参数里面会有一个回调地址，这个地址是支付渠道在扣款成功后调用的，这叫异步调用;

- 同步交互：指发送一个请求,需要等待返回,然后才能够发送下一个请求，有个等待过程；
- 异步交互：指发送一个请求,不需要等待返回,随时可以再发送下一个请求，即不需要等待。 
- 区别：一个需要等待，一个不需要等待，在部分情况下，我们的项目开发中都会优先选择不需要等待的异步交互方式。
- 哪些情况建议使用同步交互呢？比如**银行的转账系统，对数据库的保存操作等等，都会使用同步交互操作**，其余情况都优先使用异步交互。

## 使用场景

异步的使用场景：
 1、不涉及共享资源，或对共享资源只读，即非互斥操作。
 2、没有时序上的严格关系。
 3、不需要原子操作，或可以通过其他方式控制原子性。
 4、常用于IO操作等耗时操作，因为比较影响客户体验和使用性能
 5、不影响主线程逻辑。

同步的使用场景：不使用异步的时候，比如**银行的转账系统，对数据库的保存操作等等，都会使用同步交互操作**。

## 优劣势分析

### 同步的好处：
 1、同步流程对结果处理通常更为简单，可以就近处理。
 2、同步流程对结果的处理始终和前文保持在一个上下文内。
 3、同步流程可以很容易捕获、处理异常。
 4、同步流程是最天然的控制过程顺序执行的方式。

### 异步的好处：
 1、异步流程可以立即给调用方返回初步的结果。
 2、异步流程可以延迟给调用方最终的结果数据，在此期间可以做更多额外的工作，例如结果记录等等。
 3、异步流程在执行的过程中，可以释放占用的线程等资源，避免阻塞，等到结果产生再重新获取线程处理。
 4、异步流程可以等多次调用的结果出来后，再统一返回一次结果集合，提高响应效率。