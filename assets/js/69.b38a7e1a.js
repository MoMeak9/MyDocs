(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{646:function(r,t,e){"use strict";e.r(t);var a=e(5),n=Object(a.a)({},(function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[e("h1",{attrs:{id:"课题研究-微前端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#课题研究-微前端"}},[r._v("#")]),r._v(" 课题研究——微前端")]),r._v(" "),e("h2",{attrs:{id:"定义"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#定义"}},[r._v("#")]),r._v(" 定义")]),r._v(" "),e("p",[e("img",{attrs:{src:"https://mc-web-1259409954.cos.ap-guangzhou.myqcloud.com/MyImages/202203081456819.png",alt:"image-20220308145600688"}})]),r._v(" "),e("h3",{attrs:{id:"什么是微前端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是微前端"}},[r._v("#")]),r._v(" 什么是微前端？")]),r._v(" "),e("p",[e("strong",[r._v("微前端")]),r._v("一词于 2016 年底首次出现在"),e("a",{attrs:{href:"https://www.thoughtworks.com/radar/techniques/micro-frontends",target:"_blank",rel:"noopener noreferrer"}},[r._v("ThoughtWorks 技术雷达"),e("OutboundLink")],1),r._v("中。它将微服务的概念扩展到前端世界。当前的趋势是构建一个功能丰富且功能强大的浏览器应用程序，也就是单页应用程序，它位于微服务架构之上。随着时间的推移，通常由单独的团队开发的前端层会增长并且变得更加难以维护。这就是我们所说的"),e("a",{attrs:{href:"https://www.youtube.com/watch?v=pU1gXA0rfwc",target:"_blank",rel:"noopener noreferrer"}},[r._v("前端单体Frontend Monolith"),e("OutboundLink")],1),r._v("。")]),r._v(" "),e("p",[r._v("微前端背后的想法是将网站或 Web 应用程序视为由"),e("strong",[r._v("独立团队拥有")]),r._v(" "),e("strong",[r._v("的功能的组合")]),r._v("。每个团队都有"),e("strong",[r._v("不同的业务领域")]),r._v("或"),e("strong",[r._v("任务")]),r._v("，它关心和专注于。一个团队是"),e("strong",[r._v("跨职能")]),r._v("的，从数据库到用户界面，"),e("strong",[r._v("端到端地")]),r._v("开发其功能。")]),r._v(" "),e("p",[r._v("然而，这个想法并不新鲜。"),e("a",{attrs:{href:"http://scs-architecture.org/",target:"_blank",rel:"noopener noreferrer"}},[r._v("它与自包含系统的"),e("OutboundLink")],1),r._v("概念有很多共同之处。在过去，这种方法被称为"),e("a",{attrs:{href:"https://dev.otto.de/2014/07/29/scaling-with-microservices-and-vertical-decomposition/",target:"_blank",rel:"noopener noreferrer"}},[r._v("垂直系统的前端集成"),e("OutboundLink")],1),r._v("。但微前端显然是一个更友好、更简洁的术语。")]),r._v(" "),e("p",[e("strong",[r._v("单片前端")]),r._v(" "),e("img",{attrs:{src:"https://micro-frontends.org/ressources/diagrams/organisational/monolith-frontback-microservices.png",alt:"单片前端"}})]),r._v(" "),e("p",[e("strong",[r._v("垂直组织")]),r._v(" "),e("img",{attrs:{src:"https://micro-frontends.org/ressources/diagrams/organisational/verticals-headline.png",alt:"具有微前端的端到端团队"}})]),r._v(" "),e("h2",{attrs:{id:"微前端背后的核心思想"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#微前端背后的核心思想"}},[r._v("#")]),r._v(" 微前端背后的核心思想")]),r._v(" "),e("ul",[e("li",[e("strong",[r._v("与技术无关")]),r._v("\n每个团队都应该能够选择和升级他们的堆栈，而无需与其他团队协调。"),e("a",{attrs:{href:"https://micro-frontends.org/#the-dom-is-the-api",target:"_blank",rel:"noopener noreferrer"}},[r._v("自定义元素"),e("OutboundLink")],1),r._v("是隐藏实现细节同时为其他人提供中性界面的好方法。")]),r._v(" "),e("li",[e("strong",[r._v("隔离团队代码")]),r._v("\n不要共享运行时，即使所有团队都使用相同的框架。构建自包含的独立应用程序。不要依赖共享状态或全局变量。")]),r._v(" "),e("li",[e("strong",[r._v("建立团队前缀")]),r._v("\n就尚无法隔离的命名约定达成一致。命名空间 CSS、事件、本地存储和 Cookie，以避免冲突并明确所有权。")]),r._v(" "),e("li",[e("strong",[r._v("优先使用本机浏览器功能而不是自定义 API")]),r._v("\n使用"),e("a",{attrs:{href:"https://micro-frontends.org/#parent-child-communication--dom-modification",target:"_blank",rel:"noopener noreferrer"}},[r._v("浏览器事件进行通信"),e("OutboundLink")],1),r._v("，而不是构建全局 Pub/Sub 系统。如果你真的需要构建一个跨团队的 API，尽量让它尽可能简单。")]),r._v(" "),e("li",[e("strong",[r._v("构建弹性站点")]),r._v("\n即使 JavaScript 失败或尚未执行，您的功能也应该很有用。使用"),e("a",{attrs:{href:"https://micro-frontends.org/#serverside-rendering--universal-rendering",target:"_blank",rel:"noopener noreferrer"}},[r._v("通用渲染"),e("OutboundLink")],1),r._v("和渐进增强来提高感知性能。")])]),r._v(" "),e("h2",{attrs:{id:"为什么不使用ifram"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为什么不使用ifram"}},[r._v("#")]),r._v(" 为什么不使用Ifram")]),r._v(" "),e("p",[r._v('为什么不用 iframe，这几乎是所有微前端方案第一个会被 challenge 的问题。但是大部分微前端方案又不约而同放弃了 iframe 方案，自然是有原因的，并不是为了 "炫技" 或者刻意追求 "特立独行"。')]),r._v(" "),e("p",[e("em",[r._v("如果不考虑体验问题，iframe 几乎是最完美的微前端解决方案了。")])]),r._v(" "),e("p",[r._v("iframe 最大的特性就是提供了浏览器原生的硬隔离方案，不论是样式隔离、js 隔离这类问题统统都能被完美解决。但他的最大问题也在于他的隔离性无法被突破，导致应用间上下文无法被共享，随之带来的开发体验、产品体验的问题。")]),r._v(" "),e("ol",[e("li",[e("p",[r._v("url 不同步。浏览器刷新 iframe url 状态丢失、后退前进按钮无法使用。")])]),r._v(" "),e("li",[e("p",[r._v("UI 不同步，DOM 结构不共享。想象一下屏幕右下角 1/4 的 iframe 里来一个带遮罩层的弹框，同时我们要求这个弹框要浏览器居中显示，还要浏览器 resize 时自动居中..")])]),r._v(" "),e("li",[e("p",[r._v("全局上下文完全隔离，内存变量不共享。iframe 内外系统的通信、数据同步等需求，主应用的 cookie 要透传到根域名都不同的子应用中实现免登效果。")])]),r._v(" "),e("li",[e("p",[r._v("慢。每次子应用进入都是一次浏览器上下文重建、资源重新加载的过程。")])])]),r._v(" "),e("h2",{attrs:{id:"微前端的核心价值-巨石应用or技术栈无关"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#微前端的核心价值-巨石应用or技术栈无关"}},[r._v("#")]),r._v(" 微前端的核心价值，巨石应用or技术栈无关？")]),r._v(" "),e("p",[r._v("参考：https://zhuanlan.zhihu.com/p/95085796")]),r._v(" "),e("blockquote",[e("p",[e("strong",[r._v('我认为微前端的核心价值在于 "技术栈无关"，这才是它诞生的理由，或者说这才是能说服我采用微前端方案的理由')])])]),r._v(" "),e("p",[e("strong",[r._v("ToB")])]),r._v(" "),e("p",[r._v("很少有 ToC 软件活得过 3 年以上的。而对于 ToB 应用而言，3~5 年太常见")]),r._v(" "),e("p",[r._v("所以"),e("u",[r._v("大部分企业应用")]),r._v("都会有一个核心的诉求，就是"),e("strong",[r._v("如何确保我的遗产代码能平滑的迁移，以及如何确保我在若干年后还能用上时下热门的技术栈？")])]),r._v(" "),e("p",[e("strong",[r._v("微前端首先解决的，是如何解构巨石应用")]),r._v("，从而解决巨石应用随着技术更迭、产品升级、人员流动带来的工程上的问题。")]),r._v(" "),e("blockquote",[e("p",[r._v("微前端的初衷应该还是来解决工程问题的，带来的产品价值在不同的领域可大可小。 比如在阿里云这种典型的云产品控制台的场景下，它带来的产品价值就会很可观。因为阿里云作为提供 IAAS 服务的云平台，它需要的就是平台、产品的被集成能力，在这种场景下，微前端能力能非常好的契合这个诉求。但需要强调的是，并不是所有采用微前端的客户，都是阿里云这种 IAAS 平台产品。很多中小型控制台大多没有产品自由组合能力的诉求。产品能力只能算是微前端的能力的一种延伸。")])]),r._v(" "),e("p",[r._v("「技术栈无关」是架构上的准绳，具体到实现时，对应的就是："),e("strong",[r._v("应用之间不应该有任何直接或间接的技术栈、依赖、以及实现上的耦合。")])]),r._v(" "),e("ul",[e("li",[e("p",[r._v("比如我们不能要求子应用、主应用必须使用某一版本的技术栈实现。")])]),r._v(" "),e("li",[e("p",[r._v("比如在通信机制的设计与选择上，尽量基于浏览器原生的 CustomEvent api，而不是自己搞的 pub/sub。")])]),r._v(" "),e("li",[e("p",[r._v("比如子应用是否具备不依赖宿主环境独立运行的能力，衡量标准是是否能一行代码不改，或者只改很少的配置，就能达成这一目标。")])])]),r._v(" "),e("h2",{attrs:{id:"微前端技术实现方案"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#微前端技术实现方案"}},[r._v("#")]),r._v(" 微前端技术实现方案")]),r._v(" "),e("blockquote",[e("p",[r._v("https://zhuanlan.zhihu.com/p/78362028")])]),r._v(" "),e("p",[e("img",{attrs:{src:"https://pic2.zhimg.com/80/v2-d55549366b52cde19c93835cfa2a58c9_720w.jpg",alt:"img"}})]),r._v(" "),e("h2",{attrs:{id:"乾坤-qiankun"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#乾坤-qiankun"}},[r._v("#")]),r._v(" 乾坤 qiankun")]),r._v(" "),e("p",[r._v("https://qiankun.umijs.org/zh")])])}),[],!1,null,null,null);t.default=n.exports}}]);