(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{657:function(e,t,a){"use strict";a.r(t);var s=a(5),o=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("每次提交，Commit message 都包括三个部分：Header，Body 和 Footer。")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("type"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("scope"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(": "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("subject"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n// 空一行\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("body"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n// 空一行\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("footer"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),a("p",[e._v("其中，Header 是必需的，Body 和 Footer 可以省略。")]),e._v(" "),a("p",[e._v("不管是哪一个部分，任何一行都不得超过72个字符（或100个字符）。这是为了避免自动换行影响美观。")]),e._v(" "),a("h3",{attrs:{id:"header"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#header"}},[e._v("#")]),e._v(" Header")]),e._v(" "),a("p",[e._v("Header部分只有一行，包括三个字段："),a("code",[e._v("type")]),e._v("（必需）、"),a("code",[e._v("scope")]),e._v("（可选）和"),a("code",[e._v("subject")]),e._v("（必需）。")]),e._v(" "),a("p",[a("strong",[e._v("（1）type")])]),e._v(" "),a("p",[a("code",[e._v("type")]),e._v("用于说明 commit 的类别，只允许使用下面7个标识。")]),e._v(" "),a("blockquote",[a("ul",[a("li",[e._v("feat：新功能（feature）")]),e._v(" "),a("li",[e._v("fix：修补bug")]),e._v(" "),a("li",[e._v("docs：文档（documentation）")]),e._v(" "),a("li",[e._v("style： 格式（不影响代码运行的变动）")]),e._v(" "),a("li",[e._v("refactor：重构（即不是新增功能，也不是修改bug的代码变动）")]),e._v(" "),a("li",[e._v("test：增加测试")]),e._v(" "),a("li",[e._v("chore：构建过程或辅助工具的变动")])])]),e._v(" "),a("p",[e._v("如果"),a("code",[e._v("type")]),e._v("为"),a("code",[e._v("feat")]),e._v("和"),a("code",[e._v("fix")]),e._v("，则该 commit 将肯定出现在 Change log 之中。其他情况（"),a("code",[e._v("docs")]),e._v("、"),a("code",[e._v("chore")]),e._v("、"),a("code",[e._v("style")]),e._v("、"),a("code",[e._v("refactor")]),e._v("、"),a("code",[e._v("test")]),e._v("）由你决定，要不要放入 Change log，建议是不要。")]),e._v(" "),a("p",[a("strong",[e._v("（2）scope")])]),e._v(" "),a("p",[a("code",[e._v("scope")]),e._v("用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。")]),e._v(" "),a("p",[a("strong",[e._v("（3）subject")])]),e._v(" "),a("p",[a("code",[e._v("subject")]),e._v("是 commit 目的的简短描述，不超过50个字符。")]),e._v(" "),a("blockquote",[a("ul",[a("li",[e._v("以动词开头，使用第一人称现在时，比如"),a("code",[e._v("change")]),e._v("，而不是"),a("code",[e._v("changed")]),e._v("或"),a("code",[e._v("changes")])]),e._v(" "),a("li",[e._v("第一个字母小写")]),e._v(" "),a("li",[e._v("结尾不加句号（"),a("code",[e._v(".")]),e._v("）")])])]),e._v(" "),a("h3",{attrs:{id:"body"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#body"}},[e._v("#")]),e._v(" Body")]),e._v(" "),a("p",[e._v("Body 部分是对本次 commit 的详细描述，可以分成多行。下面是一个范例。")]),e._v(" "),a("blockquote",[a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("More detailed explanatory text, "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" necessary.  Wrap it to \nabout "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("72")]),e._v(" characters or so. \n\nFurther paragraphs come after blank lines.\n\n- Bullet points are okay, too\n- Use a hanging indent\n")])])])]),e._v(" "),a("p",[e._v("有两个注意点。")]),e._v(" "),a("p",[e._v("（1）使用第一人称现在时，比如使用"),a("code",[e._v("change")]),e._v("而不是"),a("code",[e._v("changed")]),e._v("或"),a("code",[e._v("changes")]),e._v("。")]),e._v(" "),a("p",[e._v("（2）应该说明代码变动的动机，以及与以前行为的对比。")]),e._v(" "),a("h3",{attrs:{id:"footer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#footer"}},[e._v("#")]),e._v(" Footer")]),e._v(" "),a("p",[e._v("Footer 部分只用于两种情况。")]),e._v(" "),a("p",[a("strong",[e._v("（1）不兼容变动")])]),e._v(" "),a("p",[e._v("如果当前代码与上一个版本不兼容，则 Footer 部分以"),a("code",[e._v("BREAKING CHANGE")]),e._v("开头，后面是对变动的描述、以及变动理由和迁移方法。")]),e._v(" "),a("blockquote",[a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("BREAKING CHANGE: isolate scope bindings definition has changed.\n\n    To migrate the code follow the example below:\n\n    Before:\n\n    scope: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      myAttr: "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'attribute'")]),e._v(",\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n    After:\n\n    scope: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      myAttr: "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'@'")]),e._v(",\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n    The removed "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")]),e._v("inject"),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")])]),e._v(" wasn't generaly useful "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" directives so there should be no code using it.\n")])])])]),e._v(" "),a("p",[a("strong",[e._v("（2）关闭 Issue")])]),e._v(" "),a("p",[e._v("如果当前 commit 针对某个issue，那么可以在 Footer 部分关闭这个 issue 。")]),e._v(" "),a("blockquote",[a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("Closes "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#234")]),e._v("\n")])])])]),e._v(" "),a("p",[e._v("也可以一次关闭多个 issue 。")]),e._v(" "),a("blockquote",[a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("Closes "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#123, #245, #992")]),e._v("\n")])])])]),e._v(" "),a("h3",{attrs:{id:"revert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#revert"}},[e._v("#")]),e._v(" Revert")]),e._v(" "),a("p",[e._v("还有一种特殊情况，如果当前 commit 用于撤销以前的 commit，则必须以"),a("code",[e._v("revert:")]),e._v("开头，后面跟着被撤销 Commit 的 Header。")]),e._v(" "),a("blockquote",[a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("revert: feat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("pencil"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(": "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'graphiteWidth'")]),e._v(" option\n\nThis reverts commit 667ecc1654a317a13331b17617d973392f415f02.\n")])])])]),e._v(" "),a("p",[e._v("Body部分的格式是固定的，必须写成"),a("code",[e._v("This reverts commit <hash>.")]),e._v("，其中的"),a("code",[e._v("hash")]),e._v("是被撤销 commit 的 SHA 标识符。")]),e._v(" "),a("p",[e._v("如果当前 commit 与被撤销的 commit，在同一个发布（release）里面，那么它们都不会出现在 Change log 里面。如果两者在不同的发布，那么当前 commit，会出现在 Change log 的"),a("code",[e._v("Reverts")]),e._v("小标题下面。")])])}),[],!1,null,null,null);t.default=o.exports}}]);