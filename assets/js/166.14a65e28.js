(window.webpackJsonp=window.webpackJsonp||[]).push([[166],{741:function(t,e,a){"use strict";a.r(e);var s=a(5),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"transport-layer-传输层"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transport-layer-传输层"}},[t._v("#")]),t._v(" Transport-layer 传输层")]),t._v(" "),a("h2",{attrs:{id:"_3-2-multiplexing-and-demultiplexing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-multiplexing-and-demultiplexing"}},[t._v("#")]),t._v(" 3.2 multiplexing and demultiplexing")]),t._v(" "),a("p",[a("strong",[t._v("Multiplexing at sender： 多路复用在发送方")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("gathering data chunks at the source host from different sockets.")])]),t._v(" "),a("li",[a("p",[t._v("gathering data chunks at the source host from different sockets, encapsulating each data chunk(collection of bits) with header information (that will later be used in demultiplexing) to create segments")])]),t._v(" "),a("li",[a("p",[t._v("passing the segments to the network layer.")])]),t._v(" "),a("li",[a("p",[t._v("在源主机上从不同的socket收集数据块。")])]),t._v(" "),a("li",[a("p",[t._v("在源主机上从不同的套接字收集数据块，用头信息(稍后将用于解复用)封装每个数据块(位的集合)来创建段")])]),t._v(" "),a("li",[a("p",[t._v("将网段传递给网络层。")])])]),t._v(" "),a("p",[a("strong",[t._v("Demultiplexing at receiver：接收方多路分解")])]),t._v(" "),a("p",[t._v("use header info to deliver received segments to correct  socket")]),t._v(" "),a("p",[t._v("How demultiplexing works:")]),t._v(" "),a("ul",[a("li",[t._v("host receives IP datagrams 数据报  (message, data)\n"),a("ul",[a("li",[t._v("i. each datagram has source IP address,\ndestination IP address")]),t._v(" "),a("li",[t._v("ii. each datagram carries one transportlayer segment (packets)")]),t._v(" "),a("li",[t._v("iii. each segment has source, destination\nport number")])])]),t._v(" "),a("li",[t._v("host uses IP addresses & port  numbers to direct segment  to appropriate socket")])]),t._v(" "),a("h2",{attrs:{id:"_3-3-connectionless-transport-udp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-connectionless-transport-udp"}},[t._v("#")]),t._v(" 3.3 connectionless transport: UDP")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://mc-web-1259409954.cos.ap-guangzhou.myqcloud.com/MyImages/image-20211220170415926.png",alt:"image-20211220170415926"}})]),t._v(" "),a("p",[t._v("**校验：**注意反码运算 1‘s compomect 最高位溢出则结果加一")]),t._v(" "),a("p",[t._v("校验和为结果值的反码")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://mc-web-1259409954.cos.ap-guangzhou.myqcloud.com/MyImages/image-20211220170540770.png",alt:"image-20211220170540770"}})]),t._v(" "),a("h2",{attrs:{id:"_3-4-connection-oriented-transport-tcp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-connection-oriented-transport-tcp"}},[t._v("#")]),t._v(" 3.4 connection-oriented transport: TCP")]),t._v(" "),a("p",[t._v("面向连接传输（可靠传输 reliable data transport）")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://mc-web-1259409954.cos.ap-guangzhou.myqcloud.com/MyImages/image-20211220170553343.png",alt:"image-20211220170553343"}})]),t._v(" "),a("h3",{attrs:{id:"tcp-连接建立-三次握手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-连接建立-三次握手"}},[t._v("#")]),t._v(" TCP 连接建立（三次握手）")]),t._v(" "),a("p",[t._v("seq:请求确认信息，ack:确认信息并依赖于ack")]),t._v(" "),a("ol",[a("li",[t._v("客户机发起："),a("strong",[t._v("SYN=1,seq=x")])]),t._v(" "),a("li",[t._v("服务器响应并返回确认信息："),a("strong",[t._v("SYN=1,ACK=1,ack=x+1,seq=y")])]),t._v(" "),a("li",[t._v("客户端收到并返回确认信息："),a("strong",[t._v("ACK=1,ack=y+1,seq=x+1")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://mc-web-1259409954.cos.ap-guangzhou.myqcloud.com/MyImages/image-20211220170702372.png",alt:"image-20211220170702372"}})]),t._v(" "),a("h3",{attrs:{id:"数据传输"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据传输"}},[t._v("#")]),t._v(" 数据传输")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://mc-web-1259409954.cos.ap-guangzhou.myqcloud.com/MyImages/image-20211226183606034.png",alt:"image-20211226183606034"}})]),t._v(" "),a("h3",{attrs:{id:"tcp连接释放-四次握手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp连接释放-四次握手"}},[t._v("#")]),t._v(" TCP连接释放（四次握手）")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("客户机主动发起连接释放报文段，停止发送数据，主动关闭TCP连接The client initiates a connection to release the packet segment, stops sending data, and closes the TCP connection：")]),t._v(" "),a("p",[a("strong",[t._v("FIN = 1,seq = u")])])]),t._v(" "),a("li",[a("p",[t._v("服务器收到连接释放报文段后确认The server acknowledges the connection release packet after receiving the segment：")]),t._v(" "),a("p",[a("strong",[t._v("ACK = 1,seq = v,ack=u+1")])])]),t._v(" "),a("li",[a("p",[t._v("服务器通知客户端释放连接The server notifies the client to release the connection：")]),t._v(" "),a("p",[a("strong",[t._v("FIN = 1, ACK=1,seq=w,ack=u+1")])])]),t._v(" "),a("li",[a("p",[t._v("客户端收到连接释放报文后，发出确认After receiving the connection release packet, the client sends an acknowledgement：")]),t._v(" "),a("p",[a("strong",[t._v("ACK=1,seq=u+1,ack=w+1")])])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://mc-web-1259409954.cos.ap-guangzhou.myqcloud.com/MyImages/image-20211220170736189.png",alt:"image-20211220170736189"}})]),t._v(" "),a("h3",{attrs:{id:"流量控制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#流量控制"}},[t._v("#")]),t._v(" 流量控制")]),t._v(" "),a("p",[t._v("TCP利用滑动窗口机制实现流量控制。")]),t._v(" "),a("p",[t._v("⭐️在通信过程中，接收方根据自己接收缓存的大小，动态地调整发送方的发送窗口大小，即接收窗口rwnd （接收方设置确认报文段的窗口字段来将rwnd通知给发送方） ，发送方的"),a("strong",[t._v("发送窗口")]),t._v("取"),a("strong",[t._v("接收窗口rwnd")]),t._v("和"),a("strong",[t._v("拥塞窗口cwnd")]),t._v("的最小值min")]),t._v(" "),a("p",[a("strong",[t._v("接收窗口rwnd：")])]),t._v(" "),a("p",[a("strong",[t._v("拥塞窗口cwnd：")])]),t._v(" "),a("p",[a("strong",[t._v("作用：")]),t._v("（为什么要通知窗口大小）")]),t._v(" "),a("ul",[a("li",[t._v("防止接收方内存溢出，分组丢失 "),a("strong",[t._v("Prevent receiver memory overflow and packet loss")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://mc-web-1259409954.cos.ap-guangzhou.myqcloud.com/MyImages/image-20211226184114391.png",alt:"image-20211226184114391"}})]),t._v(" "),a("h2",{attrs:{id:"_3-5-tcp-congestion-control-tcp拥塞控制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-tcp-congestion-control-tcp拥塞控制"}},[t._v("#")]),t._v(" 3.5 TCP congestion control TCP拥塞控制")]),t._v(" "),a("ul",[a("li",[t._v("慢开始 Slow start")]),t._v(" "),a("li",[t._v("拥塞避免 Congestion avoidance")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://mc-web-1259409954.cos.ap-guangzhou.myqcloud.com/MyImages/image-20211220171514255.png",alt:"image-20211220171514255"}})]),t._v(" "),a("ul",[a("li",[a("p",[t._v("快重传 fast retransmission")]),t._v(" "),a("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://mc-web-1259409954.cos.ap-guangzhou.myqcloud.com/MyImages/image-20211226184434588.png",alt:"image-20211226184434588"}})]),t._v(" "),a("li",[a("p",[t._v("快恢复 quick recovery")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://mc-web-1259409954.cos.ap-guangzhou.myqcloud.com/MyImages/image-20211220171524665.png",alt:"image-20211220171524665"}})])])}),[],!1,null,null,null);e.default=n.exports}}]);